{"version":3,"file":"MouseCoordinateY.js","names":["MouseCoordinateY","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","isNotDefined","getMouseCanvas","Component","propTypes","displayFormat","PropTypes","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","dx","fill","string","opacity","fontFamily","fontSize","textFill","defaultProps","arrowWidth","strokeOpacity","strokeWidth","chartId","currentCharts","mouseXY","indexOf","show","y","yScale","chartConfig","coordinate","invert","getYCoordinate","displayValue","width","stroke","x1","x2","edgeAt","type","hideLine","coordinateProps","y1","y2"],"sources":["../../../src/lib/coordinates/MouseCoordinateY.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../GenericComponent\";\r\n\r\nimport { isNotDefined } from \"../utils\";\r\n\r\nclass MouseCoordinateY extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst props = helper(this.props, moreProps);\r\n\t\tif (isNotDefined(props)) return null;\r\n\r\n\t\tdrawOnCanvas(ctx, props);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst props = helper(this.props, moreProps);\r\n\t\tif (isNotDefined(props)) return null;\r\n\r\n\t\treturn renderSVG(props);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nMouseCoordinateY.propTypes = {\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\tyAxisPad: PropTypes.number,\r\n\trectWidth: PropTypes.number,\r\n\trectHeight: PropTypes.number,\r\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\r\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\r\n\tdx: PropTypes.number,\r\n\tfill: PropTypes.string,\r\n\topacity: PropTypes.number,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\ttextFill: PropTypes.string,\r\n};\r\n\r\nMouseCoordinateY.defaultProps = {\r\n\tyAxisPad: 0,\r\n\trectWidth: 50,\r\n\trectHeight: 20,\r\n\torient: \"left\",\r\n\tat: \"left\",\r\n\tdx: 0,\r\n\tarrowWidth: 10,\r\n\tfill: \"#525252\",\r\n\topacity: 1,\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\tfontSize: 13,\r\n\ttextFill: \"#FFFFFF\",\r\n\r\n\t// stroke: \"#684F1D\",\r\n\tstrokeOpacity: 1,\r\n\tstrokeWidth: 1,\r\n};\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { chartId } = moreProps;\r\n\tconst { currentCharts, mouseXY } = moreProps;\r\n\r\n\tif (isNotDefined(mouseXY)) return null;\r\n\tif (currentCharts.indexOf(chartId) < 0) return null;\r\n\r\n\tconst { show } = moreProps;\r\n\tif (!show) return null;\r\n\r\n\tconst y = mouseXY[1];\r\n\tconst { chartConfig: { yScale } } = moreProps;\r\n\tconst { displayFormat } = props;\r\n\r\n\tconst coordinate = displayFormat(yScale.invert(y));\r\n\r\n\treturn getYCoordinate(y, coordinate, props, moreProps);\r\n}\r\n\r\nexport function getYCoordinate(y, displayValue, props, moreProps) {\r\n\tconst { width } = moreProps;\r\n\r\n\tconst { orient, at, rectWidth, rectHeight, dx } = props;\r\n\tconst { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\r\n\tconst { stroke, strokeOpacity, strokeWidth } = props;\r\n\r\n\tconst x1 = 0, x2 = width;\r\n\tconst edgeAt = (at === \"right\")\r\n\t\t? width\r\n\t\t: 0;\r\n\r\n\tconst type = \"horizontal\";\r\n\tconst hideLine = true;\r\n\r\n\tconst coordinateProps = {\r\n\t\tcoordinate: displayValue,\r\n\t\tshow: true,\r\n\t\ttype,\r\n\t\torient,\r\n\t\tedgeAt,\r\n\t\thideLine,\r\n\t\tfill,\r\n\t\topacity,\r\n\r\n\t\tfontFamily,\r\n\t\tfontSize,\r\n\t\ttextFill,\r\n\r\n\t\tstroke,\r\n\t\tstrokeOpacity,\r\n\t\tstrokeWidth,\r\n\r\n\t\trectWidth,\r\n\t\trectHeight,\r\n\r\n\t\tarrowWidth,\r\n\t\tdx,\r\n\t\tx1,\r\n\t\tx2,\r\n\t\ty1: y,\r\n\t\ty2: y,\r\n\t};\r\n\treturn coordinateProps;\r\n}\r\n\r\nexport default MouseCoordinateY;\r\n"],"mappings":"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"}