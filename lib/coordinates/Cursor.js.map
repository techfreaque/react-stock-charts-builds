{"version":3,"file":"Cursor.js","names":["Cursor","props","renderSVG","bind","drawOnCanvas","moreProps","mouseXY","currentItem","show","height","width","customSnapX","stroke","opacity","strokeDasharray","disableYCursor","isNotDefined","yCursor","x1","x2","y1","y2","id","x","xCursor","xScale","plotData","xAccessor","xValue","centerX","shapeWidth","Math","abs","last","first","length","xPos","xCursorShapeFill","Function","xCursorShapeStroke","ctx","cursors","getXYCursor","isDefined","useXCursorShape","context","margin","ratio","originX","left","originY","top","save","setTransform","scale","translate","forEach","line","dashArray","getStrokeDasharray","split","map","d","xShapeFill","getXCursorShapeFill","xCursorShapeOpacity","xCursorShapeStrokeDasharray","xShape","getXCursorShape","xShapeStroke","getXCursorShapeStroke","strokeStyle","hexToRGBA","setLineDash","beginPath","fillStyle","fillRect","rect","fill","moveTo","lineTo","restore","className","idx","rest","getMouseCanvas","Component","propTypes","PropTypes","string","oneOf","strokeDashTypes","snapX","bool","number","oneOfType","func","isRequired","contextTypes","object","round","defaultProps"],"sources":["../../../src/lib/coordinates/Cursor.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport GenericComponent, { getMouseCanvas } from \"../GenericComponent\";\r\n\r\nimport {\r\n\tfirst,\r\n\tlast,\r\n\thexToRGBA,\r\n\tisDefined,\r\n\tisNotDefined,\r\n\tstrokeDashTypes,\r\n\tgetStrokeDasharray\r\n} from \"../utils\";\r\n\r\nclass Cursor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t}\r\n\r\n\tgetXYCursor(props, moreProps) {\r\n\t\tconst { mouseXY, currentItem, show, height, width } = moreProps;\r\n\t\tconst {\r\n\t\t\tcustomSnapX,\r\n\t\t\tstroke,\r\n\t\t\topacity,\r\n\t\t\tstrokeDasharray,\r\n\t\t\tdisableYCursor\r\n\t\t} = props;\r\n\t\tif (!show || isNotDefined(currentItem)) return null;\r\n\r\n\t\tconst yCursor = {\r\n\t\t\tx1: 0,\r\n\t\t\tx2: width,\r\n\t\t\ty1: mouseXY[1],\r\n\t\t\ty2: mouseXY[1],\r\n\t\t\tstroke,\r\n\t\t\tstrokeDasharray,\r\n\t\t\topacity,\r\n\t\t\tid: \"yCursor\"\r\n\t\t};\r\n\t\tconst x = customSnapX(props, moreProps);\r\n\r\n\t\tconst xCursor = {\r\n\t\t\tx1: x,\r\n\t\t\tx2: x,\r\n\t\t\ty1: 0,\r\n\t\t\ty2: height,\r\n\t\t\tstroke,\r\n\t\t\tstrokeDasharray,\r\n\t\t\topacity,\r\n\t\t\tid: \"xCursor\"\r\n\t\t};\r\n\r\n\t\treturn disableYCursor ? [xCursor] : [yCursor, xCursor];\r\n\t}\r\n\r\n\tgetXCursorShape(moreProps/* , ctx */) {\r\n\t\tconst { height, xScale, currentItem, plotData } = moreProps;\r\n\t\tconst { xAccessor } = moreProps;\r\n\t\tconst xValue = xAccessor(currentItem);\r\n\t\tconst centerX = xScale(xValue);\r\n\t\tconst shapeWidth =\r\n\t\t\tMath.abs(\r\n\t\t\t\txScale(xAccessor(last(plotData))) -\r\n\t\t\t\t\txScale(xAccessor(first(plotData)))\r\n\t\t\t) / (plotData.length - 1);\r\n\t\tconst xPos = centerX - shapeWidth / 2;\r\n\r\n\t\treturn { height, xPos, shapeWidth };\r\n\t}\r\n\r\n\tgetXCursorShapeFill(moreProps) {\r\n\t\tconst { xCursorShapeFill } = this.props;\r\n\t\tconst { currentItem } = moreProps;\r\n\t\treturn xCursorShapeFill instanceof Function\r\n\t\t\t? xCursorShapeFill(currentItem)\r\n\t\t\t: xCursorShapeFill;\r\n\t}\r\n\r\n\tgetXCursorShapeStroke(moreProps) {\r\n\t\tconst { xCursorShapeStroke } = this.props;\r\n\t\tconst { currentItem } = moreProps;\r\n\t\treturn xCursorShapeStroke instanceof Function\r\n\t\t\t? xCursorShapeStroke(currentItem)\r\n\t\t\t: xCursorShapeStroke;\r\n\t}\r\n\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst cursors = this.getXYCursor(this.props, moreProps);\r\n\r\n\t\tif (isDefined(cursors)) {\r\n\t\t\tconst { useXCursorShape } = this.props;\r\n\r\n\t\t\tconst { margin, ratio } = this.context;\r\n\t\t\tconst originX = 0.5 * ratio + margin.left;\r\n\t\t\tconst originY = 0.5 * ratio + margin.top;\r\n\r\n\t\t\tctx.save();\r\n\t\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\t\tctx.scale(ratio, ratio);\r\n\r\n\t\t\tctx.translate(originX, originY);\r\n\r\n\t\t\tcursors.forEach(line => {\r\n\t\t\t\tconst dashArray = getStrokeDasharray(line.strokeDasharray)\r\n\t\t\t\t\t.split(\",\")\r\n\t\t\t\t\t.map(d => +d);\r\n\t\t\t\tconst xShapeFill = this.getXCursorShapeFill(moreProps);\r\n\r\n\t\t\t\tif (useXCursorShape && line.id === \"xCursor\") {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\txCursorShapeOpacity,\r\n\t\t\t\t\t\txCursorShapeStrokeDasharray\r\n\t\t\t\t\t} = this.props;\r\n\t\t\t\t\tconst xShape = this.getXCursorShape(moreProps);\r\n\r\n\t\t\t\t\tif (xCursorShapeStrokeDasharray != null) {\r\n\t\t\t\t\t\tconst xShapeStroke = this.getXCursorShapeStroke(\r\n\t\t\t\t\t\t\tmoreProps\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tctx.strokeStyle = hexToRGBA(\r\n\t\t\t\t\t\t\txShapeStroke,\r\n\t\t\t\t\t\t\txCursorShapeOpacity\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tctx.setLineDash(\r\n\t\t\t\t\t\t\tgetStrokeDasharray(xCursorShapeStrokeDasharray)\r\n\t\t\t\t\t\t\t\t.split(\",\")\r\n\t\t\t\t\t\t\t\t.map(d => +d)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.fillStyle =\r\n\t\t\t\t\t\txShapeFill != null\r\n\t\t\t\t\t\t\t? hexToRGBA(xShapeFill, xCursorShapeOpacity)\r\n\t\t\t\t\t\t\t: \"rgba(0, 0, 0, 0)\"; // =\"transparent\"\r\n\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\txCursorShapeStrokeDasharray == null\r\n\t\t\t\t\t\t? ctx.fillRect(\r\n\t\t\t\t\t\t\t  xShape.xPos,\r\n\t\t\t\t\t\t\t  0,\r\n\t\t\t\t\t\t\t  xShape.shapeWidth,\r\n\t\t\t\t\t\t\t  xShape.height\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: ctx.rect(\r\n\t\t\t\t\t\t\t  xShape.xPos,\r\n\t\t\t\t\t\t\t  0,\r\n\t\t\t\t\t\t\t  xShape.shapeWidth,\r\n\t\t\t\t\t\t\t  xShape.height\r\n\t\t\t\t\t\t  );\r\n\t\t\t\t\tctx.fill();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tctx.strokeStyle = hexToRGBA(line.stroke, line.opacity);\r\n\t\t\t\t\tctx.setLineDash(dashArray);\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.moveTo(line.x1, line.y1);\r\n\t\t\t\t\tctx.lineTo(line.x2, line.y2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.stroke();\r\n\t\t\t});\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\trenderSVG(moreProps) {\r\n\t\tconst cursors = this.getXYCursor(this.props, moreProps);\r\n\t\tif (isNotDefined(cursors)) return null;\r\n\r\n\t\tconst { className, useXCursorShape } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<g className={`react-stockcharts-crosshair ${className}`}>\r\n\t\t\t\t{cursors.map(({ strokeDasharray, id, ...rest }, idx) => {\r\n\t\t\t\t\tif (useXCursorShape && id === \"xCursor\") {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\txCursorShapeOpacity,\r\n\t\t\t\t\t\t\txCursorShapeStrokeDasharray\r\n\t\t\t\t\t\t} = this.props;\r\n\t\t\t\t\t\tconst xShape = this.getXCursorShape(moreProps);\r\n\t\t\t\t\t\tconst xShapeFill = this.getXCursorShapeFill(moreProps);\r\n\t\t\t\t\t\tconst xShapeStroke = this.getXCursorShapeStroke(\r\n\t\t\t\t\t\t\tmoreProps\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<rect\r\n\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\tx={xShape.xPos}\r\n\t\t\t\t\t\t\t\ty={0}\r\n\t\t\t\t\t\t\t\twidth={xShape.shapeWidth}\r\n\t\t\t\t\t\t\t\theight={xShape.height}\r\n\t\t\t\t\t\t\t\tfill={\r\n\t\t\t\t\t\t\t\t\txShapeFill != null\r\n\t\t\t\t\t\t\t\t\t\t? xShapeFill\r\n\t\t\t\t\t\t\t\t\t\t: \"none\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstroke={\r\n\t\t\t\t\t\t\t\t\txCursorShapeStrokeDasharray == null\r\n\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t: xShapeStroke\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstrokeDasharray={\r\n\t\t\t\t\t\t\t\t\txCursorShapeStrokeDasharray == null\r\n\t\t\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t\t\t: getStrokeDasharray(\r\n\t\t\t\t\t\t\t\t\t\t\t  xCursorShapeStrokeDasharray\r\n\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\topacity={xCursorShapeOpacity}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<line\r\n\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\tstrokeDasharray={getStrokeDasharray(\r\n\t\t\t\t\t\t\t\tstrokeDasharray\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<GenericComponent\r\n\t\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\t\tclip={false}\r\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCursor.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tstroke: PropTypes.string,\r\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\tsnapX: PropTypes.bool,\r\n\topacity: PropTypes.number,\r\n\tdisableYCursor: PropTypes.bool,\r\n\tuseXCursorShape: PropTypes.bool,\r\n\txCursorShapeFill: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n\txCursorShapeStroke: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\r\n\t\t.isRequired,\r\n\txCursorShapeStrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\txCursorShapeOpacity: PropTypes.number\r\n};\r\n\r\nCursor.contextTypes = {\r\n\tmargin: PropTypes.object.isRequired,\r\n\tratio: PropTypes.number.isRequired\r\n\t// xScale for getting update event upon pan end, this is needed to get past the PureComponent shouldComponentUpdate\r\n\t// xScale: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction customSnapX(props, moreProps) {\r\n\tconst { xScale, xAccessor, currentItem, mouseXY } = moreProps;\r\n\tconst { snapX } = props;\r\n\tconst x = snapX ? Math.round(xScale(xAccessor(currentItem))) : mouseXY[0];\r\n\treturn x;\r\n}\r\n\r\nCursor.defaultProps = {\r\n\tstroke: \"#000000\",\r\n\topacity: 0.3,\r\n\tstrokeDasharray: \"ShortDash\",\r\n\tsnapX: true, // snaps the crosshair to the nearest xValue\r\n\tcustomSnapX,\r\n\tdisableYCursor: false,\r\n\tuseXCursorShape: false,\r\n\txCursorShapeStroke: \"#000000\",\r\n\txCursorShapeOpacity: 0.5\r\n};\r\n\r\nexport default Cursor;\r\n"],"mappings":"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"}