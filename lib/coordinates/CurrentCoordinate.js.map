{"version":3,"file":"CurrentCoordinate.js","names":["CurrentCoordinate","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","circle","helper","fillStyle","fill","beginPath","arc","x","y","r","Math","PI","className","fillColor","Function","currentItem","getMouseCanvas","Component","propTypes","yAccessor","PropTypes","func","number","isRequired","string","defaultProps","show","xScale","yScale","chartConfig","xAccessor","isNotDefined","xValue","yValue","round"],"sources":["../../../src/lib/coordinates/CurrentCoordinate.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport { isNotDefined } from \"../utils\";\r\nimport { getMouseCanvas } from \"../GenericComponent\";\r\n\r\nclass CurrentCoordinate extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst circle = helper(this.props, moreProps);\r\n\t\tif (!circle) return null;\r\n\r\n\t\tctx.fillStyle = circle.fill;\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\r\n\t\tctx.fill();\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { className } = this.props;\r\n\r\n\t\tconst circle = helper(this.props, moreProps);\r\n\t\tif (!circle) return null;\r\n\r\n\t\tconst fillColor = circle.fill instanceof Function ? circle.fill(moreProps.currentItem) : circle.fill;\r\n\r\n\t\treturn (\r\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={fillColor} />\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nCurrentCoordinate.propTypes = {\r\n\tyAccessor: PropTypes.func,\r\n\tr: PropTypes.number.isRequired,\r\n\tclassName: PropTypes.string,\r\n};\r\n\r\n\r\nCurrentCoordinate.defaultProps = {\r\n\tr: 3,\r\n\tclassName: \"react-stockcharts-current-coordinate\",\r\n};\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { fill, yAccessor, r } = props;\r\n\r\n\tconst { show, xScale, chartConfig: { yScale }, currentItem, xAccessor } = moreProps;\r\n\r\n\t// console.log(show);\r\n\tif (!show || isNotDefined(currentItem)) return null;\r\n\r\n\tconst xValue = xAccessor(currentItem);\r\n\tconst yValue = yAccessor(currentItem);\r\n\r\n\tif (isNotDefined(yValue)) return null;\r\n\r\n\t// console.log(chartConfig);\r\n\tconst x = Math.round(xScale(xValue));\r\n\tconst y = Math.round(yScale(yValue));\r\n\r\n\treturn { x, y, r, fill };\r\n}\r\n\r\nexport default CurrentCoordinate;\r\n"],"mappings":"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"}