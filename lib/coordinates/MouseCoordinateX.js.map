{"version":3,"file":"MouseCoordinateX.js","names":["MouseCoordinateX","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","isNotDefined","getMouseCanvas","Component","propTypes","displayFormat","PropTypes","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","fill","string","opacity","fontFamily","fontSize","textFill","snapX","bool","customX","xScale","xAccessor","currentItem","mouseXY","x","displayXAccessor","coordinate","invert","defaultProps","strokeOpacity","strokeWidth","show","height","chartConfig","stroke","rectRadius","edgeAt","type","y1","y2","hideLine","coordinateProps","arrowWidth","x1","x2"],"sources":["../../../src/lib/coordinates/MouseCoordinateX.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../GenericComponent\";\r\n\r\nimport { isNotDefined } from \"../utils\";\r\n\r\nclass MouseCoordinateX extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst props = helper(this.props, moreProps);\r\n\t\tif (isNotDefined(props)) return null;\r\n\r\n\t\tdrawOnCanvas(ctx, props);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst props = helper(this.props, moreProps);\r\n\t\tif (isNotDefined(props)) return null;\r\n\r\n\t\treturn renderSVG(props);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tclip={false}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nMouseCoordinateX.propTypes = {\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\tyAxisPad: PropTypes.number,\r\n\trectWidth: PropTypes.number,\r\n\trectHeight: PropTypes.number,\r\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\r\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\r\n\tfill: PropTypes.string,\r\n\topacity: PropTypes.number,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\ttextFill: PropTypes.string,\r\n\tsnapX: PropTypes.bool\r\n};\r\n\r\nfunction customX(props, moreProps) {\r\n\tconst { xScale, xAccessor, currentItem, mouseXY } = moreProps;\r\n\tconst { snapX } = props;\r\n\tconst x = snapX\r\n\t\t? xScale(xAccessor(currentItem))\r\n\t\t: mouseXY[0];\r\n\r\n\tconst { displayXAccessor } = moreProps;\r\n\tconst { displayFormat } = props;\r\n\tconst coordinate = snapX\r\n\t\t? displayFormat(displayXAccessor(currentItem))\r\n\t\t: displayFormat(xScale.invert(x));\r\n\treturn { x, coordinate };\r\n}\r\n\r\nMouseCoordinateX.defaultProps = {\r\n\tyAxisPad: 0,\r\n\trectWidth: 80,\r\n\trectHeight: 20,\r\n\r\n\t// rectRadius: 5,\r\n\t// stroke: \"#684F1D\",\r\n\tstrokeOpacity: 1,\r\n\tstrokeWidth: 1,\r\n\r\n\torient: \"bottom\",\r\n\tat: \"bottom\",\r\n\r\n\tfill: \"#525252\",\r\n\topacity: 1,\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\tfontSize: 13,\r\n\ttextFill: \"#FFFFFF\",\r\n\tsnapX: true,\r\n\tcustomX: customX,\r\n};\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { show, currentItem } = moreProps;\r\n\tconst { chartConfig: { height } } = moreProps;\r\n\r\n\tif (isNotDefined(currentItem)) return null;\r\n\r\n\tconst { customX } = props;\r\n\r\n\tconst { orient, at } = props;\r\n\tconst { stroke, strokeOpacity, strokeWidth } = props;\r\n\tconst { rectRadius, rectWidth, rectHeight } = props;\r\n\tconst { fill, opacity, fontFamily, fontSize, textFill } = props;\r\n\r\n\tconst edgeAt = (at === \"bottom\")\r\n\t\t? height\r\n\t\t: 0;\r\n\r\n\tconst {\r\n\t\tx,\r\n\t\tcoordinate\r\n\t } = customX(props, moreProps);\r\n\r\n\tconst type = \"vertical\";\r\n\tconst y1 = 0, y2 = height;\r\n\tconst hideLine = true;\r\n\r\n\tconst coordinateProps = {\r\n\t\tcoordinate,\r\n\t\tshow,\r\n\t\ttype,\r\n\t\torient,\r\n\t\tedgeAt,\r\n\t\thideLine,\r\n\t\tfill, opacity, fontFamily, fontSize, textFill,\r\n\t\tstroke, strokeOpacity, strokeWidth,\r\n\t\trectWidth,\r\n\t\trectHeight,\r\n\t\trectRadius,\r\n\t\tarrowWidth: 0,\r\n\t\tx1: x,\r\n\t\tx2: x,\r\n\t\ty1,\r\n\t\ty2\r\n\t};\r\n\treturn coordinateProps;\r\n}\r\n\r\nexport default MouseCoordinateX;\r\n"],"mappings":"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"}