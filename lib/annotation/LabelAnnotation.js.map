{"version":3,"file":"LabelAnnotation.js","names":["LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","opacity","rotate","xAccessor","helper","xPos","yPos","fill","text","tooltip","Component","x","y","plotData","xFunc","functor","yFunc","propTypes","PropTypes","string","oneOfType","func","number","object","defaultProps"],"sources":["../../../src/lib/annotation/LabelAnnotation.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { functor } from \"../utils\";\r\n\r\nclass LabelAnnotation extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t}\r\n\thandleClick(e) {\r\n\t\tconst { onClick } = this.props;\r\n\r\n\t\tif (onClick) {\r\n\t\t\tconst { xScale, yScale, datum } = this.props;\r\n\t\t\tonClick({ xScale, yScale, datum }, e);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\r\n\t\tconst { xAccessor, xScale, yScale } = this.props;\r\n\r\n\t\tconst { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\r\n\r\n\t\treturn (<g className={className}>\r\n\t\t\t<title>{tooltip}</title>\r\n\t\t\t<text x={xPos} y={yPos}\r\n\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\r\n\t\t\t\tfill={fill}\r\n\t\t\t\topacity={opacity}\r\n\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\r\n\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\ttextAnchor={textAnchor}>{text}</text>\r\n\t\t</g>);\r\n\t}\r\n}\r\n\r\nexport function helper(props, xAccessor, xScale, yScale) {\r\n\tconst { x, y, datum, fill, text, tooltip, plotData } = props;\r\n\r\n\tconst xFunc = functor(x);\r\n\tconst yFunc = functor(y);\r\n\r\n\tconst [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\r\n\r\n\treturn {\r\n\t\txPos,\r\n\t\tyPos,\r\n\t\ttext: functor(text)(datum),\r\n\t\tfill: functor(fill)(datum),\r\n\t\ttooltip: functor(tooltip)(datum),\r\n\t};\r\n}\r\n\r\nLabelAnnotation.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\ttext: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.func\r\n\t]),\r\n\ttextAnchor: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\topacity: PropTypes.number,\r\n\trotate: PropTypes.number,\r\n\tonClick: PropTypes.func,\r\n\txAccessor: PropTypes.func,\r\n\txScale: PropTypes.func,\r\n\tyScale: PropTypes.func,\r\n\tdatum: PropTypes.object,\r\n\tx: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.func\r\n\t]),\r\n\ty: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.func\r\n\t])\r\n};\r\n\r\nexport const defaultProps = {\r\n\ttextAnchor: \"middle\",\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\tfontSize: 12,\r\n\tfill: \"#000000\",\r\n\topacity: 1,\r\n\trotate: 0,\r\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\r\n};\r\n\r\nLabelAnnotation.defaultProps = {\r\n\t...defaultProps,\r\n\tclassName: \"react-stockcharts-labelannotation\",\r\n};\r\n\r\nexport default LabelAnnotation;\r\n"],"mappings":"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"}