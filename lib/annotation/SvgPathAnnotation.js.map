{"version":3,"file":"SvgPathAnnotation.js","names":["SvgPathAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","stroke","opacity","xAccessor","path","helper","x","y","fill","tooltip","Component","plotData","xFunc","functor","yFunc","xPos","yPos","propTypes","PropTypes","string","func","isRequired","object","number","defaultProps"],"sources":["../../../src/lib/annotation/SvgPathAnnotation.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { functor } from \"../utils\";\r\n\r\nclass SvgPathAnnotation extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t}\r\n\thandleClick(e) {\r\n\t\tconst { onClick } = this.props;\r\n\r\n\t\tif (onClick) {\r\n\t\t\tconst { xScale, yScale, datum } = this.props;\r\n\t\t\tonClick({ xScale, yScale, datum }, e);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { className, stroke, opacity } = this.props;\r\n\t\tconst { xAccessor, xScale, yScale, path } = this.props;\r\n\r\n\t\tconst { x, y, fill, tooltip } = helper(this.props, xAccessor, xScale, yScale);\r\n\r\n\t\treturn (<g className={className} onClick={this.handleClick}>\r\n\t\t\t<title>{tooltip}</title>\r\n\t\t\t<path d={path({ x, y })} stroke={stroke} fillRule={fill} opacity={opacity} />\r\n\t\t</g>);\r\n\t}\r\n}\r\n\r\nfunction helper(props, xAccessor, xScale, yScale) {\r\n\tconst { x, y, datum, fill, tooltip, plotData } = props;\r\n\r\n\tconst xFunc = functor(x);\r\n\tconst yFunc = functor(y);\r\n\r\n\tconst [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\r\n\r\n\treturn {\r\n\t\tx: xPos,\r\n\t\ty: yPos,\r\n\t\tfill: functor(fill)(datum),\r\n\t\ttooltip: functor(tooltip)(datum),\r\n\t};\r\n}\r\n\r\nSvgPathAnnotation.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tpath: PropTypes.func.isRequired,\r\n\tonClick: PropTypes.func,\r\n\txAccessor: PropTypes.func,\r\n\txScale: PropTypes.func,\r\n\tyScale: PropTypes.func,\r\n\tdatum: PropTypes.object,\r\n\tstroke: PropTypes.string,\r\n\tfill: PropTypes.string,\r\n\topacity: PropTypes.number,\r\n};\r\n\r\nSvgPathAnnotation.defaultProps = {\r\n\tclassName: \"react-stockcharts-svgpathannotation\",\r\n\topacity: 1,\r\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\r\n};\r\n\r\nexport default SvgPathAnnotation;"],"mappings":"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"}