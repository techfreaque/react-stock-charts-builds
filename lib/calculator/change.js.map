{"version":3,"file":"change.js","names":["options","defaultOptions","calculator","data","sourcePath","algo","slidingWindow","windowSize","accumulator","prev","curr","absoluteChange","percentChange","newData","undefinedLength","x","arguments","length"],"sources":["../../../src/lib/calculator/change.js"],"sourcesContent":["\r\n\r\nimport { slidingWindow } from \"../utils\";\r\nimport { Change as defaultOptions } from \"./defaultOptionsForComputation\";\r\n\r\nexport default function() {\r\n\tlet options = defaultOptions;\r\n\r\n\tfunction calculator(data) {\r\n\t\tconst { sourcePath } = options;\r\n\r\n\t\tconst algo = slidingWindow()\r\n\t\t\t.windowSize(2)\r\n\t\t\t.sourcePath(sourcePath)\r\n\t\t\t.accumulator(([prev, curr]) => {\r\n\t\t\t\tconst absoluteChange = curr - prev;\r\n\t\t\t\tconst percentChange = absoluteChange * 100 / prev;\r\n\t\t\t\treturn { absoluteChange, percentChange };\r\n\t\t\t});\r\n\r\n\t\tconst newData = algo(data);\r\n\r\n\t\treturn newData;\r\n\t}\r\n\tcalculator.undefinedLength = function() {\r\n\t\treturn 1;\r\n\t};\r\n\tcalculator.options = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\toptions = { ...defaultOptions, ...x };\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\treturn calculator;\r\n}\r\n"],"mappings":";;;;;;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;AAEe,oBAAW;EACzB,IAAIA,OAAO,GAAGC,oCAAd;;EAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;IACzB,eAAuBH,OAAvB;IAAA,IAAQI,UAAR,YAAQA,UAAR;IAEA,IAAMC,IAAI,GAAG,IAAAC,oBAAA,IACXC,UADW,CACA,CADA,EAEXH,UAFW,CAEAA,UAFA,EAGXI,WAHW,CAGC,gBAAkB;MAAA;MAAA,IAAhBC,IAAgB;MAAA,IAAVC,IAAU;;MAC9B,IAAMC,cAAc,GAAGD,IAAI,GAAGD,IAA9B;MACA,IAAMG,aAAa,GAAGD,cAAc,GAAG,GAAjB,GAAuBF,IAA7C;MACA,OAAO;QAAEE,cAAc,EAAdA,cAAF;QAAkBC,aAAa,EAAbA;MAAlB,CAAP;IACA,CAPW,CAAb;IASA,IAAMC,OAAO,GAAGR,IAAI,CAACF,IAAD,CAApB;IAEA,OAAOU,OAAP;EACA;;EACDX,UAAU,CAACY,eAAX,GAA6B,YAAW;IACvC,OAAO,CAAP;EACA,CAFD;;EAGAZ,UAAU,CAACF,OAAX,GAAqB,UAASe,CAAT,EAAY;IAChC,IAAI,CAACC,SAAS,CAACC,MAAf,EAAuB;MACtB,OAAOjB,OAAP;IACA;;IACDA,OAAO,mCAAQC,oCAAR,GAA2Bc,CAA3B,CAAP;IACA,OAAOb,UAAP;EACA,CAND;;EAQA,OAAOA,UAAP;AACA"}