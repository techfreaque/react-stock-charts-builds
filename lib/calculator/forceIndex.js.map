{"version":3,"file":"forceIndex.js","names":["options","defaultOptions","calculator","data","sourcePath","volumePath","source","path","volume","forceIndexCalulator","slidingWindow","windowSize","accumulator","prev","curr","forceIndex","undefinedLength","x","arguments","length"],"sources":["../../../src/lib/calculator/forceIndex.js"],"sourcesContent":["\r\n\r\nimport { slidingWindow, path } from \"../utils\";\r\nimport { ForceIndex as defaultOptions } from \"./defaultOptionsForComputation\";\r\n\r\nexport default function() {\r\n\r\n\tlet options = defaultOptions;\r\n\r\n\tfunction calculator(data) {\r\n\t\tconst { sourcePath, volumePath } = options;\r\n\r\n\t\tconst source = path(sourcePath);\r\n\t\tconst volume = path(volumePath);\r\n\r\n\t\tconst forceIndexCalulator = slidingWindow()\r\n\t\t\t.windowSize(2)\r\n\t\t\t.accumulator(([prev, curr]) => (source(curr) - source(prev)) * volume(curr));\r\n\r\n\t\tconst forceIndex = forceIndexCalulator(data);\r\n\r\n\t\treturn forceIndex;\r\n\t}\r\n\tcalculator.undefinedLength = function() {\r\n\t\treturn 2;\r\n\t};\r\n\tcalculator.options = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\toptions = { ...defaultOptions, ...x };\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\treturn calculator;\r\n}\r\n"],"mappings":";;;;;;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;AAEe,oBAAW;EAEzB,IAAIA,OAAO,GAAGC,wCAAd;;EAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;IACzB,eAAmCH,OAAnC;IAAA,IAAQI,UAAR,YAAQA,UAAR;IAAA,IAAoBC,UAApB,YAAoBA,UAApB;IAEA,IAAMC,MAAM,GAAG,IAAAC,WAAA,EAAKH,UAAL,CAAf;IACA,IAAMI,MAAM,GAAG,IAAAD,WAAA,EAAKF,UAAL,CAAf;IAEA,IAAMI,mBAAmB,GAAG,IAAAC,oBAAA,IAC1BC,UAD0B,CACf,CADe,EAE1BC,WAF0B,CAEd;MAAA;MAAA,IAAEC,IAAF;MAAA,IAAQC,IAAR;;MAAA,OAAkB,CAACR,MAAM,CAACQ,IAAD,CAAN,GAAeR,MAAM,CAACO,IAAD,CAAtB,IAAgCL,MAAM,CAACM,IAAD,CAAxD;IAAA,CAFc,CAA5B;IAIA,IAAMC,UAAU,GAAGN,mBAAmB,CAACN,IAAD,CAAtC;IAEA,OAAOY,UAAP;EACA;;EACDb,UAAU,CAACc,eAAX,GAA6B,YAAW;IACvC,OAAO,CAAP;EACA,CAFD;;EAGAd,UAAU,CAACF,OAAX,GAAqB,UAASiB,CAAT,EAAY;IAChC,IAAI,CAACC,SAAS,CAACC,MAAf,EAAuB;MACtB,OAAOnB,OAAP;IACA;;IACDA,OAAO,mCAAQC,wCAAR,GAA2BgB,CAA3B,CAAP;IACA,OAAOf,UAAP;EACA,CAND;;EAQA,OAAOA,UAAP;AACA"}