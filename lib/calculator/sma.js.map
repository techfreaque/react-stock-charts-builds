{"version":3,"file":"sma.js","names":["options","defaultOptions","calculator","data","windowSize","sourcePath","average","slidingWindow","accumulator","values","mean","undefinedLength","x","arguments","length"],"sources":["../../../src/lib/calculator/sma.js"],"sourcesContent":["\r\n\r\nimport { mean } from \"d3-array\";\r\n\r\nimport { slidingWindow } from \"../utils\";\r\nimport { SMA as defaultOptions } from \"./defaultOptionsForComputation\";\r\n\r\nexport default function() {\r\n\r\n\tlet options = defaultOptions;\r\n\r\n\tfunction calculator(data) {\r\n\t\tconst { windowSize, sourcePath } = options;\r\n\r\n\t\tconst average = slidingWindow()\r\n\t\t\t.windowSize(windowSize)\r\n\t\t\t.sourcePath(sourcePath)\r\n\t\t\t.accumulator(values => mean(values));\r\n\r\n\t\treturn average(data);\r\n\t}\r\n\tcalculator.undefinedLength = function() {\r\n\t\tconst { windowSize } = options;\r\n\t\treturn windowSize - 1;\r\n\t};\r\n\tcalculator.options = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\toptions = { ...defaultOptions, ...x };\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\treturn calculator;\r\n}\r\n"],"mappings":";;;;;;;AAEA;;AAEA;;AACA;;;;;;;;AAEe,oBAAW;EAEzB,IAAIA,OAAO,GAAGC,iCAAd;;EAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;IACzB,eAAmCH,OAAnC;IAAA,IAAQI,UAAR,YAAQA,UAAR;IAAA,IAAoBC,UAApB,YAAoBA,UAApB;IAEA,IAAMC,OAAO,GAAG,IAAAC,oBAAA,IACdH,UADc,CACHA,UADG,EAEdC,UAFc,CAEHA,UAFG,EAGdG,WAHc,CAGF,UAAAC,MAAM;MAAA,OAAI,IAAAC,aAAA,EAAKD,MAAL,CAAJ;IAAA,CAHJ,CAAhB;IAKA,OAAOH,OAAO,CAACH,IAAD,CAAd;EACA;;EACDD,UAAU,CAACS,eAAX,GAA6B,YAAW;IACvC,gBAAuBX,OAAvB;IAAA,IAAQI,UAAR,aAAQA,UAAR;IACA,OAAOA,UAAU,GAAG,CAApB;EACA,CAHD;;EAIAF,UAAU,CAACF,OAAX,GAAqB,UAASY,CAAT,EAAY;IAChC,IAAI,CAACC,SAAS,CAACC,MAAf,EAAuB;MACtB,OAAOd,OAAP;IACA;;IACDA,OAAO,mCAAQC,iCAAR,GAA2BW,CAA3B,CAAP;IACA,OAAOV,UAAP;EACA,CAND;;EAQA,OAAOA,UAAP;AACA"}