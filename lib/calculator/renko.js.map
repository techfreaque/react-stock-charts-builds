{"version":3,"file":"renko.js","names":["options","defaultOptions","dateAccessor","d","date","dateMutator","calculator","rawData","reversalType","fixedBrickSize","sourcePath","windowSize","source","high","low","close","pricingMethod","brickSize","atrAlgorithm","atr","atrCalculator","merge","algorithm","c","functor","renkoData","index","prevBrickClose","open","prevBrickOpen","brick","direction","forEach","idx","isNotDefined","from","startOfYear","startOfQuarter","startOfMonth","startOfWeek","fromDate","volume","prevCloseToHigh","prevCloseToLow","prevOpenToHigh","prevOpenToLow","priceMovement","Math","min","abs","max","noOfBricks","floor","j","to","toDate","fullyFormed","push","newBrick","length","x","arguments"],"sources":["../../../src/lib/calculator/renko.js"],"sourcesContent":["\r\n\r\nimport { merge, isNotDefined, functor } from \"../utils\";\r\n\r\nimport atr from \"./atr\";\r\n\r\nimport { Renko as defaultOptions } from \"./defaultOptionsForComputation\";\r\n\r\nexport default function() {\r\n\tlet options = defaultOptions;\r\n\r\n\tlet dateAccessor = d => d.date;\r\n\tlet dateMutator = (d, date) => { d.date = date; };\r\n\r\n\tfunction calculator(rawData) {\r\n\t\tconst { reversalType, fixedBrickSize, sourcePath, windowSize } = options;\r\n\r\n\t\tconst source = sourcePath === \"high/low\"\r\n\t\t\t? d => { return { high: d.high, low: d.low }; }\r\n\t\t\t: d => { return { high: d.close, low: d.close }; };\r\n\r\n\t\tconst pricingMethod = source;\r\n\t\tlet brickSize;\r\n\r\n\t\tif (reversalType === \"ATR\") {\r\n\t\t\t// calculateATR(rawData, period);\r\n\t\t\tconst atrAlgorithm = atr().options({ windowSize });\r\n\r\n\t\t\tconst atrCalculator = merge()\r\n\t\t\t\t.algorithm(atrAlgorithm)\r\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\r\n\r\n\t\t\tatrCalculator(rawData);\r\n\t\t\tbrickSize = d => d[\"atr\" + windowSize];\r\n\t\t} else {\r\n\t\t\tbrickSize = functor(fixedBrickSize);\r\n\t\t}\r\n\r\n\t\tconst renkoData = [];\r\n\r\n\t\tlet index = 0, prevBrickClose = rawData[index].open, prevBrickOpen = rawData[index].open;\r\n\t\tlet brick = {}, direction = 0;\r\n\r\n\t\trawData.forEach(function(d, idx) {\r\n\t\t\tif (isNotDefined(brick.from)) {\r\n\t\t\t\tbrick.high = d.high;\r\n\t\t\t\tbrick.low = d.low;\r\n\t\t\t\tbrick.startOfYear = d.startOfYear;\r\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\r\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\r\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\r\n\r\n\t\t\t\tbrick.from = idx;\r\n\t\t\t\tbrick.fromDate = dateAccessor(d);\r\n\t\t\t\t// indexMutator(brick, index++);\r\n\t\t\t\tdateMutator(brick, dateAccessor(d));\r\n\t\t\t}\r\n\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\r\n\r\n\t\t\tconst prevCloseToHigh = (prevBrickClose - pricingMethod(d).high),\r\n\t\t\t\tprevCloseToLow = (prevBrickClose - pricingMethod(d).low),\r\n\t\t\t\tprevOpenToHigh = (prevBrickOpen - pricingMethod(d).high),\r\n\t\t\t\tprevOpenToLow = (prevBrickOpen - pricingMethod(d).low),\r\n\t\t\t\tpriceMovement = Math.min(\r\n\t\t\t\t\tMath.abs(prevCloseToHigh),\r\n\t\t\t\t\tMath.abs(prevCloseToLow),\r\n\t\t\t\t\tMath.abs(prevOpenToHigh),\r\n\t\t\t\t\tMath.abs(prevOpenToLow));\r\n\r\n\r\n\t\t\tbrick.high = Math.max(brick.high, d.high);\r\n\t\t\tbrick.low = Math.min(brick.low, d.low);\r\n\r\n\t\t\tif (!brick.startOfYear) {\r\n\t\t\t\tbrick.startOfYear = d.startOfYear;\r\n\t\t\t\tif (brick.startOfYear) {\r\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\r\n\t\t\t\t\t// brick.displayDate = d.displayDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!brick.startOfQuarter) {\r\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\r\n\t\t\t\tif (brick.startOfQuarter && !brick.startOfYear) {\r\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\r\n\t\t\t\t\t// brick.displayDate = d.displayDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!brick.startOfMonth) {\r\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\r\n\t\t\t\tif (brick.startOfMonth && !brick.startOfQuarter) {\r\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\r\n\t\t\t\t\t// brick.displayDate = d.displayDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!brick.startOfWeek) {\r\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\r\n\t\t\t\tif (brick.startOfWeek && !brick.startOfMonth) {\r\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\r\n\t\t\t\t\t// brick.displayDate = d.displayDate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// d.brick = JSON.stringify(brick);\r\n\t\t\tif (brickSize(d)) {\r\n\t\t\t\tconst noOfBricks = Math.floor(priceMovement / brickSize(d));\r\n\r\n\t\t\t\tbrick.open = (Math.abs(prevCloseToHigh) < Math.abs(prevOpenToHigh)\r\n\t\t\t\t\t|| Math.abs(prevCloseToLow) < Math.abs(prevOpenToLow))\r\n\t\t\t\t\t? prevBrickClose\r\n\t\t\t\t\t: prevBrickOpen;\r\n\r\n\t\t\t\tif (noOfBricks >= 1) {\r\n\t\t\t\t\tlet j = 0;\r\n\t\t\t\t\tfor (j = 0; j < noOfBricks; j++) {\r\n\t\t\t\t\t\tbrick.close = (brick.open < pricingMethod(d).high)\r\n\t\t\t\t\t\t\t// if brick open is less than current price it means it is green/hollow brick\r\n\t\t\t\t\t\t\t? brick.open + brickSize(d)\r\n\t\t\t\t\t\t\t: brick.open - brickSize(d);\r\n\t\t\t\t\t\tdirection = brick.close > brick.open ? 1 : -1;\r\n\t\t\t\t\t\tbrick.direction = direction;\r\n\t\t\t\t\t\tbrick.to = idx;\r\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\r\n\t\t\t\t\t\t// brick.diff = brick.open - brick.close;\r\n\t\t\t\t\t\t// brick.atr = d.atr;\r\n\t\t\t\t\t\tbrick.fullyFormed = true;\r\n\t\t\t\t\t\trenkoData.push(brick);\r\n\r\n\t\t\t\t\t\tprevBrickClose = brick.close;\r\n\t\t\t\t\t\tprevBrickOpen = brick.open;\r\n\r\n\t\t\t\t\t\tconst newBrick = {\r\n\t\t\t\t\t\t\thigh: brick.high,\r\n\t\t\t\t\t\t\tlow: brick.low,\r\n\t\t\t\t\t\t\topen: brick.close,\r\n\t\t\t\t\t\t\tstartOfYear: false,\r\n\t\t\t\t\t\t\tstartOfMonth: false,\r\n\t\t\t\t\t\t\tstartOfQuarter: false,\r\n\t\t\t\t\t\t\tstartOfWeek: false\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbrick = newBrick;\r\n\t\t\t\t\t\tbrick.from = idx;\r\n\t\t\t\t\t\tbrick.fromDate = dateAccessor(d);\r\n\t\t\t\t\t\t// indexMutator(brick, index + j);\r\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\r\n\t\t\t\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tindex = index + j - 1;\r\n\t\t\t\t\tbrick = {};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (idx === rawData.length - 1) {\r\n\t\t\t\t\t\tbrick.close = direction > 0 ? pricingMethod(d).high : pricingMethod(d).low;\r\n\t\t\t\t\t\tbrick.to = idx;\r\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\r\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\r\n\t\t\t\t\t\tbrick.fullyFormed = false;\r\n\t\t\t\t\t\trenkoData.push(brick);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\treturn renkoData;\r\n\r\n\t}\r\n\tcalculator.options = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn options;\r\n\t\t}\r\n\t\toptions = { ...defaultOptions, ...x };\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\tcalculator.dateMutator = function(x) {\r\n\t\tif (!arguments.length) return dateMutator;\r\n\t\tdateMutator = x;\r\n\t\treturn calculator;\r\n\t};\r\n\tcalculator.dateAccessor = function(x) {\r\n\t\tif (!arguments.length) return dateAccessor;\r\n\t\tdateAccessor = x;\r\n\t\treturn calculator;\r\n\t};\r\n\r\n\treturn calculator;\r\n}\r\n"],"mappings":"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"}