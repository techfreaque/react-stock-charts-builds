{"version":3,"file":"SingleValueTooltip.js","names":["SingleValueTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","labelFill","valueFill","className","xDisplayFormat","yDisplayFormat","xLabel","yLabel","xAccessor","yAccessor","displayValuesFor","chartConfig","width","height","currentItem","xDisplayValue","isDefined","yDisplayValue","originProp","origin","functor","x","y","Component","propTypes","PropTypes","func","isRequired","string","oneOfType","array","number","defaultProps","format","noop","identity"],"sources":["../../../src/lib/tooltip/SingleValueTooltip.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { format } from \"d3-format\";\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\n\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\nimport { isDefined, identity, noop, functor } from \"../utils\";\r\n\r\nclass SingleValueTooltip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\r\n\t\tconst { onClick, fontFamily, fontSize, labelFill, valueFill, className } = this.props;\r\n\t\tconst { xDisplayFormat, yDisplayFormat, xLabel, yLabel, xAccessor, yAccessor } = this.props;\r\n\t\tconst { displayValuesFor } = this.props;\r\n\r\n\t\tconst { chartConfig: { width, height } } = moreProps;\r\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\r\n\r\n\t\tconst xDisplayValue = isDefined(currentItem) && isDefined(xAccessor(currentItem)) ? xDisplayFormat(xAccessor(currentItem)) : \"n/a\";\r\n\t\tconst yDisplayValue = isDefined(currentItem) && isDefined(yAccessor(currentItem)) ? yDisplayFormat(yAccessor(currentItem)) : \"n/a\";\r\n\r\n\t\tconst { origin: originProp } = this.props;\r\n\t\tconst origin = functor(originProp);\r\n\t\tconst [x, y] = origin(width, height);\r\n\r\n\t\treturn (\r\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\r\n\t\t\t\t<ToolTipText x={0} y={0}\r\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t{ xLabel ? <ToolTipTSpanLabel x={0} dy=\"5\" fill={labelFill}>{`${xLabel}: `}</ToolTipTSpanLabel> : null}\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{`${yLabel}: `}</ToolTipTSpanLabel>\r\n\t\t\t\t\t{ xLabel ? <tspan fillRule={valueFill}>{`${xDisplayValue} `}</tspan> : null}\r\n\t\t\t\t\t<tspan fillRule={valueFill} >{yDisplayValue}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nSingleValueTooltip.propTypes = {\r\n\txDisplayFormat: PropTypes.func,\r\n\tyDisplayFormat: PropTypes.func.isRequired,\r\n\txLabel: PropTypes.string,\r\n\tyLabel: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\tlabelFill: PropTypes.string.isRequired,\r\n\tvalueFill: PropTypes.string,\r\n\torigin: PropTypes.oneOfType([\r\n\t\tPropTypes.array,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\tclassName: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\tonClick: PropTypes.func,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\txAccessor: PropTypes.func,\r\n\tyAccessor: PropTypes.func,\r\n};\r\n\r\nSingleValueTooltip.defaultProps = {\r\n\torigin: [0, 0],\r\n\tlabelFill: \"#4682B4\",\r\n\tvalueFill: \"#000000\",\r\n\tyDisplayFormat: format(\".2f\"),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\txAccessor: noop,\r\n\tyAccessor: identity,\r\n\tclassName: \"react-stockcharts-tooltip\",\r\n};\r\n\r\nexport default SingleValueTooltip;\r\n"],"mappings":"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"}