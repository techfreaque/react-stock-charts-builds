{"version":3,"file":"StochasticTooltip.js","names":["StochasticTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","yAccessor","displayFormat","label","className","options","appearance","labelFill","displayValuesFor","chartConfig","width","height","currentItem","stroke","stochastic","K","D","originProp","origin","functor","x","y","kLine","windowSize","kWindowSize","dLine","dWindowSize","Component","propTypes","PropTypes","oneOfType","array","func","isRequired","string","number","shape","defaultProps","format"],"sources":["../../../src/lib/tooltip/StochasticTooltip.js"],"sourcesContent":["\r\n\r\nimport { format } from \"d3-format\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\n\r\nimport { functor } from \"../utils\";\r\n\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\n\r\nclass StochasticTooltip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { onClick, fontFamily, fontSize, yAccessor, displayFormat, label } = this.props;\r\n\t\tconst { className, options, appearance, labelFill } = this.props;\r\n\t\tconst { displayValuesFor } = this.props;\r\n\t\tconst { chartConfig: { width, height } } = moreProps;\r\n\r\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\r\n\t\tconst { stroke } = appearance;\r\n\t\tconst stochastic = currentItem && yAccessor(currentItem);\r\n\r\n\t\tconst K = (stochastic && stochastic.K && displayFormat(stochastic.K)) || \"n/a\";\r\n\t\tconst D = (stochastic && stochastic.D && displayFormat(stochastic.D)) || \"n/a\";\r\n\r\n\t\tconst { origin: originProp } = this.props;\r\n\t\tconst origin = functor(originProp);\r\n\t\tconst [x, y] = origin(width, height);\r\n\r\n\t\treturn (\r\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\r\n\t\t\t\t<ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{`${ label } %K(`}</ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}> %D (</ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fillRule={stroke.kLine}>{`${options.windowSize}, ${options.kWindowSize}`}</tspan>\r\n\t\t\t\t\t<tspan fillRule={stroke.kLine}>{K}</tspan>\r\n\t\t\t\t\t<tspan fillRule={stroke.dLine}>{options.dWindowSize}</tspan>\r\n\t\t\t\t\t<tspan fillRule={stroke.dLine}>{D}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nStochasticTooltip.propTypes = {\r\n\torigin: PropTypes.oneOfType([\r\n\t\tPropTypes.array,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\tclassName: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\tlabelFill: PropTypes.string,\r\n\r\n\tonClick: PropTypes.func,\r\n\tyAccessor: PropTypes.func.isRequired,\r\n\toptions: PropTypes.shape({\r\n\t\twindowSize: PropTypes.number.isRequired,\r\n\t\tkWindowSize: PropTypes.number.isRequired,\r\n\t\tdWindowSize: PropTypes.number.isRequired,\r\n\t}).isRequired,\r\n\tappearance: PropTypes.shape({\r\n\t\tstroke: {\r\n\t\t\tdLine: PropTypes.string.isRequired,\r\n\t\t\tkLine: PropTypes.string.isRequired,\r\n\t\t}.isRequired,\r\n\t}).isRequired,\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\tlabel: PropTypes.string.isRequired,\r\n};\r\n\r\nStochasticTooltip.defaultProps = {\r\n\tdisplayFormat: format(\".2f\"),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\torigin: [0, 0],\r\n\tclassName: \"react-stockcharts-tooltip\",\r\n\tlabel: \"STO\",\r\n};\r\n\r\nexport default StochasticTooltip;\r\n"],"mappings":"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"}