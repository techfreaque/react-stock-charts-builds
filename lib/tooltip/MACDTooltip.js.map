{"version":3,"file":"MACDTooltip.js","names":["MACDTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","displayFormat","className","yAccessor","options","appearance","labelFill","displayValuesFor","chartConfig","width","height","currentItem","macdValue","macd","signal","divergence","originProp","origin","functor","x","y","stroke","slow","fast","fill","Component","propTypes","PropTypes","oneOfType","array","func","isRequired","string","number","shape","defaultProps","format"],"sources":["../../../src/lib/tooltip/MACDTooltip.js"],"sourcesContent":["\r\n\r\nimport { format } from \"d3-format\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\n\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\nimport { functor } from \"../utils\";\r\n\r\nclass MACDTooltip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { onClick, fontFamily, fontSize, displayFormat, className } = this.props;\r\n\t\tconst { yAccessor, options, appearance, labelFill } = this.props;\r\n\t\tconst { displayValuesFor } = this.props;\r\n\r\n\t\tconst { chartConfig: { width, height } } = moreProps;\r\n\r\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\r\n\t\tconst macdValue = currentItem && yAccessor(currentItem);\r\n\r\n\t\tconst macd = (macdValue && macdValue.macd && displayFormat(macdValue.macd)) || \"n/a\";\r\n\t\tconst signal = (macdValue && macdValue.signal && displayFormat(macdValue.signal)) || \"n/a\";\r\n\t\tconst divergence = (macdValue && macdValue.divergence && displayFormat(macdValue.divergence)) || \"n/a\";\r\n\r\n\t\tconst { origin: originProp } = this.props;\r\n\t\tconst origin = functor(originProp);\r\n\t\tconst [x, y] = origin(width, height);\r\n\r\n\t\treturn (\r\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\r\n\t\t\t\t<ToolTipText x={0} y={0}\r\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>MACD (</ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>, </ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}> Signal (</ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}> Divergence: </ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fillRule={appearance.stroke.macd}>{options.slow}</tspan>\r\n\t\t\t\t\t<tspan fillRule={appearance.stroke.macd}>{options.fast}</tspan>\r\n\t\t\t\t\t<tspan fillRule={appearance.stroke.macd}>{macd}</tspan>\r\n\t\t\t\t\t<tspan fillRule={appearance.stroke.signal}>{options.signal}</tspan>\r\n\t\t\t\t\t<tspan fillRule={appearance.stroke.signal}>{signal}</tspan>\r\n\t\t\t\t\t<tspan fillRule={appearance.fill.divergence}>{divergence}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nMACDTooltip.propTypes = {\r\n\torigin: PropTypes.oneOfType([\r\n\t\tPropTypes.array,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\tclassName: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\tlabelFill: PropTypes.string,\r\n\r\n\tyAccessor: PropTypes.func.isRequired,\r\n\toptions: PropTypes.shape({\r\n\t\tslow: PropTypes.number.isRequired,\r\n\t\tfast: PropTypes.number.isRequired,\r\n\t\tsignal: PropTypes.number.isRequired,\r\n\t}).isRequired,\r\n\tappearance: PropTypes.shape({\r\n\t\tstroke: {\r\n\t\t\tmacd: PropTypes.string.isRequired,\r\n\t\t\tsignal: PropTypes.string.isRequired,\r\n\t\t}.isRequired,\r\n\t\tfill: PropTypes.shape({\r\n\t\t\tdivergence: PropTypes.string.isRequired,\r\n\t\t}).isRequired,\r\n\t}).isRequired,\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\tonClick: PropTypes.func,\r\n};\r\n\r\nMACDTooltip.defaultProps = {\r\n\torigin: [0, 0],\r\n\tdisplayFormat: format(\".2f\"),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\tclassName: \"react-stockcharts-tooltip\",\r\n};\r\n\r\nexport default MACDTooltip;\r\n// export default MACDTooltip;\r\n"],"mappings":"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"}