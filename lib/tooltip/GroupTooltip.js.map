{"version":3,"file":"GroupTooltip.js","names":["VALID_LAYOUTS","SingleTooltip","props","handleClick","bind","e","onClick","forChart","options","chartId","origin","yLabel","yValue","labelFill","valueFill","withShape","fontSize","fontFamily","layout","comp","renderValueNextToLabel","renderValueBeneathToLabel","renderInline","Component","propTypes","PropTypes","array","isRequired","string","func","number","bool","oneOfType","object","oneOf","defaultProps","GroupTooltip","renderSVG","moreProps","position","chartConfig","height","width","dx","dy","textAnchor","xyPos","undefined","displayValuesFor","className","verticalSize","displayFormat","currentItem","getPosition","xPos","yPos","singleTooltip","map","each","idx","yAccessor","yDisplayValue","orig","arrayOf","shape","format"],"sources":["../../../src/lib/tooltip/GroupTooltip.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { format } from \"d3-format\";\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\n\r\nconst VALID_LAYOUTS = [\r\n\t\"horizontal\",\r\n\t\"horizontalRows\",\r\n\t\"horizontalInline\",\r\n\t\"vertical\",\r\n\t\"verticalRows\"\r\n];\r\n\r\nclass SingleTooltip extends Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\tthis.handleClick = this.handleClick.bind( this );\r\n\t}\r\n\r\n\thandleClick( e ) {\r\n\t\tconst { onClick, forChart, options } = this.props;\r\n\t\tonClick( { chartId: forChart, ...options }, e );\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the value next to the label.\r\n\t */\r\n\trenderValueNextToLabel() {\r\n\t\tconst { origin, yLabel, yValue, labelFill, valueFill, withShape, fontSize, fontFamily } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<g transform={`translate(${origin[0]}, ${origin[1]})`} onClick={this.handleClick}>\r\n\t\t\t\t{withShape ? <rect x=\"0\" y=\"-6\" width=\"6\" height=\"6\" fill={valueFill} /> : null}\r\n\t\t\t\t<ToolTipText x={withShape ? 8 : 0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{yLabel}: </ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan fill={valueFill}>{yValue}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the value beneath the label.\r\n\t */\r\n\trenderValueBeneathToLabel() {\r\n\t\tconst { origin, yLabel, yValue, labelFill, valueFill, withShape, fontSize, fontFamily } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<g transform={`translate(${origin[0]}, ${origin[1]})`} onClick={this.handleClick}>\r\n\t\t\t\t{withShape ? <line x1={0} y1={2} x2={0} y2={28} stroke={valueFill} strokeWidth=\"4px\" /> : null}\r\n\t\t\t\t<ToolTipText x={5} y={11} fontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{yLabel}</ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan x=\"5\" dy=\"15\" fill={valueFill}>{yValue}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Renders the value next to the label.\r\n\t * The parent component must have a \"text\"-element.\r\n\t */\r\n\trenderInline() {\r\n\t\tconst { yLabel, yValue, labelFill, valueFill, fontSize, fontFamily } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<tspan onClick={this.handleClick} fontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{yLabel}:&nbsp;</ToolTipTSpanLabel>\r\n\t\t\t\t<tspan fill={valueFill}>{yValue}&nbsp;&nbsp;</tspan>\r\n\t\t\t</tspan>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst { layout } = this.props;\r\n\t\tlet comp = null;\r\n\r\n\t\tswitch ( layout ) {\r\n\t\t\tcase \"horizontal\":\r\n\t\t\t\tcomp = this.renderValueNextToLabel();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"horizontalRows\":\r\n\t\t\t\tcomp = this.renderValueBeneathToLabel();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"horizontalInline\":\r\n\t\t\t\tcomp = this.renderInline();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"vertical\":\r\n\t\t\t\tcomp = this.renderValueNextToLabel();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"verticalRows\":\r\n\t\t\t\tcomp = this.renderValueBeneathToLabel();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tcomp = this.renderValueNextToLabel();\r\n\t\t}\r\n\r\n\t\treturn comp;\r\n\t}\r\n}\r\n\r\nSingleTooltip.propTypes = {\r\n\torigin: PropTypes.array.isRequired,\r\n\tyLabel: PropTypes.string.isRequired,\r\n\tyValue: PropTypes.string.isRequired,\r\n\tonClick: PropTypes.func,\r\n\tfontFamily: PropTypes.string,\r\n\tlabelFill: PropTypes.string.isRequired,\r\n\tvalueFill: PropTypes.string.isRequired,\r\n\tfontSize: PropTypes.number,\r\n\twithShape: PropTypes.bool,\r\n\tforChart: PropTypes.oneOfType( [PropTypes.number, PropTypes.string] ).isRequired,\r\n\toptions: PropTypes.object.isRequired,\r\n\tlayout: PropTypes.oneOf(VALID_LAYOUTS).isRequired,\r\n};\r\n\r\nSingleTooltip.defaultProps = {\r\n\tlabelFill: \"#4682B4\",\r\n\tvalueFill: \"#000000\",\r\n\twithShape: false,\r\n};\r\n\r\nclass GroupTooltip extends Component {\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\tthis.renderSVG = this.renderSVG.bind( this );\r\n\t}\r\n\r\n\tgetPosition(moreProps) {\r\n\t\tconst { position } = this.props;\r\n\t\tconst { height, width } = moreProps.chartConfig;\r\n\r\n\t\tconst dx = 20;\r\n\t\tconst dy = 40;\r\n\t\tlet textAnchor = null;\r\n\t\tlet xyPos = null;\r\n\r\n\t\tif (position !== undefined) {\r\n\t\t\tswitch ( position ) {\r\n\t\t\t\tcase \"topRight\":\r\n\t\t\t\t\txyPos = [width - dx, null];\r\n\t\t\t\t\ttextAnchor = \"end\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottomLeft\":\r\n\t\t\t\t\txyPos = [null, height - dy];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottomRight\":\r\n\t\t\t\t\txyPos = [width - dx, height - dy];\r\n\t\t\t\t\ttextAnchor = \"end\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\txyPos = [null, null];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\txyPos = [null, null];\r\n\t\t}\r\n\r\n\t\treturn { xyPos, textAnchor };\r\n\t}\r\n\r\n\r\n\trenderSVG( moreProps ) {\r\n\r\n\t\tconst { displayValuesFor } = this.props;\r\n\t\tconst { chartId } = moreProps;\r\n\r\n\t\tconst { className, onClick, width, verticalSize, fontFamily, fontSize, layout } = this.props;\r\n\t\tconst { origin, displayFormat, options } = this.props;\r\n\t\tconst currentItem = displayValuesFor( this.props, moreProps );\r\n\t\tconst { xyPos, textAnchor } = this.getPosition(moreProps);\r\n\r\n\t\tconst xPos = xyPos != null && xyPos[0] != null ? xyPos[0] : origin[0];\r\n\t\tconst yPos = xyPos != null && xyPos[1] != null ? xyPos[1] : origin[1];\r\n\r\n\t\tconst singleTooltip = options.map( ( each, idx ) => {\r\n\r\n\t\t\tconst yValue = currentItem && each.yAccessor( currentItem );\r\n\t\t\tconst yDisplayValue = yValue ? displayFormat( yValue ) : \"n/a\";\r\n\r\n\t\t\tconst orig = () => {\r\n\t\t\t\tif ( layout === \"horizontal\" || layout === \"horizontalRows\" ) {\r\n\t\t\t\t\treturn [width * idx, 0];\r\n\t\t\t\t}\r\n\t\t\t\tif ( layout === \"vertical\" ) {\r\n\t\t\t\t\treturn [0, verticalSize * idx];\r\n\t\t\t\t}\r\n\t\t\t\tif ( layout === \"verticalRows\" ) {\r\n\t\t\t\t\treturn [0, verticalSize * 2.3 * idx];\r\n\t\t\t\t}\r\n\t\t\t\treturn [0, 0];\r\n\t\t\t};\r\n\r\n\t\t\treturn <SingleTooltip\r\n\t\t\t\tkey={idx}\r\n\t\t\t\tlayout={layout}\r\n\t\t\t\torigin={orig()}\r\n\t\t\t\tyLabel={each.yLabel}\r\n\t\t\t\tyValue={yDisplayValue}\r\n\t\t\t\toptions={each}\r\n\t\t\t\tforChart={chartId}\r\n\t\t\t\tonClick={onClick}\r\n\t\t\t\tfontFamily={fontFamily}\r\n\t\t\t\tfontSize={fontSize}\r\n\t\t\t\tlabelFill={each.labelFill}\r\n\t\t\t\tvalueFill={each.valueFill}\r\n\t\t\t\twithShape={each.withShape}\r\n\t\t\t/>;\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<g transform={`translate(${xPos}, ${yPos})`} className={className} textAnchor={textAnchor}>\r\n\t\t\t\t{layout === \"horizontalInline\"\r\n\t\t\t\t\t? <ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>{singleTooltip}</ToolTipText>\r\n\t\t\t\t\t: singleTooltip\r\n\t\t\t\t}\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\n\r\nGroupTooltip.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tlayout: PropTypes.oneOf(VALID_LAYOUTS).isRequired,\r\n\tposition: PropTypes.oneOf( [\r\n\t\t\"topRight\",\r\n\t\t\"bottomLeft\",\r\n\t\t\"bottomRight\"] ),\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\torigin: PropTypes.array.isRequired,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\tonClick: PropTypes.func,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\twidth: PropTypes.number, // \"width\" only be used, if layout is \"horizontal\" or \"horizontalRows\".\r\n\tverticalSize: PropTypes.number,  // \"verticalSize\" only be used, if layout is \"vertical\", \"verticalRows\".\r\n\toptions: PropTypes.arrayOf( PropTypes.shape( {\r\n\t\tyLabel: PropTypes.oneOfType( [\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.func] ).isRequired,\r\n\t\tyAccessor: PropTypes.func.isRequired,\r\n\t\tlabelFill: PropTypes.string,\r\n\t\tvalueFill: PropTypes.string,\r\n\t\twithShape: PropTypes.bool, // \"withShape\" is ignored, if layout is \"horizontalInline\" or \"vertical\".\r\n\t} ) ),\r\n};\r\n\r\nGroupTooltip.defaultProps = {\r\n\tclassName: \"react-stockcharts-tooltip react-stockcharts-group-tooltip\",\r\n\tlayout: \"horizontal\",\r\n\tdisplayFormat: format( \".2f\" ),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\torigin: [0, 0],\r\n\twidth: 60,\r\n\tverticalSize: 13,\r\n};\r\n\r\nexport default GroupTooltip;\r\n"],"mappings":"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"}