{"version":3,"file":"RSITooltip.js","names":["RSITooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","yAccessor","displayFormat","className","options","labelFill","textFill","displayValuesFor","chartConfig","width","height","currentItem","rsi","isDefined","value","originProp","origin","functor","x","y","tooltipLabel","windowSize","Component","propTypes","PropTypes","oneOfType","array","func","isRequired","shape","number","string","defaultProps","format"],"sources":["../../../src/lib/tooltip/RSITooltip.js"],"sourcesContent":["\r\n\r\nimport { format } from \"d3-format\";\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport displayValuesFor from \"./displayValuesFor\";\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\n\r\nimport { isDefined, functor } from \"../utils\";\r\nimport ToolTipText from \"./ToolTipText\";\r\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\r\n\r\nclass RSITooltip extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { onClick, fontFamily, fontSize, yAccessor, displayFormat, className } = this.props;\r\n\t\tconst { options, labelFill, textFill } = this.props;\r\n\t\tconst { displayValuesFor } = this.props;\r\n\t\tconst { chartConfig: { width, height } } = moreProps;\r\n\r\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\r\n\t\tconst rsi = isDefined(currentItem) && yAccessor(currentItem);\r\n\t\tconst value = (rsi && displayFormat(rsi)) || \"n/a\";\r\n\r\n\t\tconst { origin: originProp } = this.props;\r\n\t\tconst origin = functor(originProp);\r\n\t\tconst [x, y] = origin(width, height);\r\n\r\n\t\tconst tooltipLabel = `RSI (${options.windowSize}): `;\r\n\t\treturn (\r\n\t\t\t<g className={className} transform={`translate(${ x }, ${ y })`} onClick={onClick}>\r\n\t\t\t\t<ToolTipText x={0} y={0}\r\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\r\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelFill}>{tooltipLabel}</ToolTipTSpanLabel>\r\n\t\t\t\t\t<tspan  fillRule={textFill}>{value}</tspan>\r\n\t\t\t\t</ToolTipText>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tclip={false}\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tdrawOn={[\"mousemove\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nRSITooltip.propTypes = {\r\n\torigin: PropTypes.oneOfType([\r\n\t\tPropTypes.array,\r\n\t\tPropTypes.func\r\n\t]).isRequired,\r\n\toptions: PropTypes.shape({\r\n\t\twindowSize: PropTypes.number.isRequired,\r\n\t}).isRequired,\r\n\tclassName: PropTypes.string,\r\n\tfontFamily: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\tonClick: PropTypes.func,\r\n\tyAccessor: PropTypes.func.isRequired,\r\n\tdisplayFormat: PropTypes.func.isRequired,\r\n\tdisplayValuesFor: PropTypes.func,\r\n\ttextFill: PropTypes.string,\r\n\tlabelFill: PropTypes.string,\r\n};\r\n\r\nRSITooltip.defaultProps = {\r\n\tdisplayFormat: format(\".2f\"),\r\n\tdisplayValuesFor: displayValuesFor,\r\n\torigin: [0, 0],\r\n\tclassName: \"react-stockcharts-tooltip\",\r\n};\r\n\r\nexport default RSITooltip;"],"mappings":"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"}