{"version":3,"file":"StraightLine.js","names":["StraightLine","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","type","stroke","strokeWidth","opacity","strokeDasharray","yValue","xValue","xScale","chartConfig","yScale","width","height","beginPath","strokeStyle","hexToRGBA","lineWidth","getLineCoordinates","x1","y1","x2","y2","setLineDash","getStrokeDasharray","split","moveTo","lineTo","getAxisCanvas","className","lineCoordinates","Component","Math","round","propTypes","PropTypes","string","oneOf","number","strokeDashTypes","isRequired","propName","isDefined","Error","isNotDefined","defaultProps"],"sources":["../../../src/lib/series/StraightLine.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { hexToRGBA, isDefined, isNotDefined, strokeDashTypes, getStrokeDasharray } from \"../utils\";\r\n\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport { getAxisCanvas } from \"../GenericComponent\";\r\n\r\nclass StraightLine extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst { type, stroke, strokeWidth, opacity, strokeDasharray } = this.props;\r\n\t\tconst { yValue, xValue } = this.props;\r\n\t\tconst { xScale } = moreProps;\r\n\t\tconst { chartConfig: { yScale, width, height } } = moreProps;\r\n\r\n\t\tctx.beginPath();\r\n\r\n\t\tctx.strokeStyle = hexToRGBA(stroke, opacity);\r\n\t\tctx.lineWidth = strokeWidth;\r\n\r\n\t\tconst { x1, y1, x2, y2 } = getLineCoordinates(type, xScale, yScale, xValue, yValue, width, height);\r\n\r\n\t\tctx.setLineDash(getStrokeDasharray(strokeDasharray).split(\",\"));\r\n\t\tctx.moveTo(x1, y1);\r\n\t\tctx.lineTo(x2, y2);\r\n\t\tctx.stroke();\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\tcanvasToDraw={getAxisCanvas}\r\n\t\t\tdrawOn={[\"pan\"]}\r\n\t\t/>;\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { width, height } = moreProps;\r\n\t\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\t\tconst { className } = this.props;\r\n\t\tconst { type, stroke, strokeWidth, opacity, strokeDasharray } = this.props;\r\n\t\tconst { yValue, xValue } = this.props;\r\n\r\n\t\tconst lineCoordinates = getLineCoordinates(type, xScale, yScale, xValue, yValue, width, height);\r\n\r\n\t\treturn (\r\n\t\t\t<line\r\n\t\t\t\tclassName={className}\r\n\t\t\t\tstrokeDasharray={getStrokeDasharray(strokeDasharray)}\r\n\t\t\t\tstroke={stroke}\r\n\t\t\t\tstrokeWidth={strokeWidth}\r\n\t\t\t\tstrokeOpacity={opacity}\r\n\t\t\t\t{...lineCoordinates}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction getLineCoordinates(type, xScale, yScale, xValue, yValue, width, height) {\r\n\treturn type === \"horizontal\"\r\n\t\t? { x1: 0, y1: Math.round(yScale(yValue)), x2: width, y2: Math.round(yScale(yValue)) }\r\n\t\t: { x1: Math.round(xScale(xValue)), y1: 0, x2: Math.round(xScale(xValue)), y2: height };\r\n}\r\n\r\nStraightLine.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\ttype: PropTypes.oneOf([\"vertical\", \"horizontal\"]),\r\n\tstroke: PropTypes.string,\r\n\tstrokeWidth: PropTypes.number,\r\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\topacity: PropTypes.number.isRequired,\r\n\tyValue: function(props, propName/* , componentName */) {\r\n\t\tif (props.type === \"vertical\" && isDefined(props[propName])) return new Error(\"Do not define `yValue` when type is `vertical`, define the `xValue` prop\");\r\n\t\tif (props.type === \"horizontal\" && isNotDefined(props[propName])) return new Error(\"when type = `horizontal` `yValue` is required\");\r\n\t\t// if (isDefined(props[propName]) && typeof props[propName] !== \"number\") return new Error(\"prop `yValue` accepts a number\");\r\n\t},\r\n\txValue: function(props, propName/* , componentName */) {\r\n\t\tif (props.type === \"horizontal\" && isDefined(props[propName])) return new Error(\"Do not define `xValue` when type is `horizontal`, define the `yValue` prop\");\r\n\t\tif (props.type === \"vertical\" && isNotDefined(props[propName])) return new Error(\"when type = `vertical` `xValue` is required\");\r\n\t\t// if (isDefined(props[propName]) && typeof props[propName] !== \"number\") return new Error(\"prop `xValue` accepts a number\");\r\n\t},\r\n};\r\n\r\nStraightLine.defaultProps = {\r\n\tclassName: \"line \",\r\n\ttype: \"horizontal\",\r\n\tstroke: \"#000000\",\r\n\topacity: 0.5,\r\n\tstrokeWidth: 1,\r\n\tstrokeDasharray: \"Solid\",\r\n};\r\n\r\nexport default StraightLine;\r\n"],"mappings":"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"}