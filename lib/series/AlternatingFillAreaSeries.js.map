{"version":3,"file":"AlternatingFillAreaSeries.js","names":["AlternatingFillAreaSeries","props","renderClip","bind","topClip","bottomClip","baseAt","id1","String","Math","round","random","clipPathId1","id2","clipPathId2","ctx","moreProps","chartConfig","yScale","width","beginPath","rect","clip","height","className","yAccessor","interpolation","stroke","strokeWidth","strokeOpacity","strokeDasharray","fill","fillOpacity","style1","style2","top","bottom","Component","propTypes","PropTypes","shape","string","number","oneOf","strokeDashTypes","isRequired","func","defaultProps"],"sources":["../../../src/lib/series/AlternatingFillAreaSeries.js"],"sourcesContent":["\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport AreaSeries from \"./AreaSeries\";\r\nimport SVGComponent from \"./SVGComponent\";\r\nimport { strokeDashTypes } from \"../utils\";\r\n\r\nclass AlternatingFillAreaSeries extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderClip = this.renderClip.bind(this);\r\n\t\tthis.topClip = this.topClip.bind(this);\r\n\t\tthis.bottomClip = this.bottomClip.bind(this);\r\n\t\tthis.baseAt = this.baseAt.bind(this);\r\n\r\n\t\tconst id1 = String(Math.round(Math.random() * 10000 * 10000));\r\n\t\tthis.clipPathId1 = `alternating-area-clip-${id1}`;\r\n\r\n\t\tconst id2 = String(Math.round(Math.random() * 10000 * 10000));\r\n\t\tthis.clipPathId2 = `alternating-area-clip-${id2}`;\r\n\t}\r\n\ttopClip(ctx, moreProps) {\r\n\t\tconst { chartConfig } = moreProps;\r\n\t\tconst { baseAt } = this.props;\r\n\t\tconst { yScale, width } = chartConfig;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\twidth,\r\n\t\t\tyScale(baseAt)\r\n\t\t);\r\n\t\tctx.clip();\r\n\t}\r\n\tbottomClip(ctx, moreProps) {\r\n\t\tconst { chartConfig } = moreProps;\r\n\t\tconst { baseAt } = this.props;\r\n\t\tconst { yScale, width, height } = chartConfig;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(\r\n\t\t\t0,\r\n\t\t\tyScale(baseAt),\r\n\t\t\twidth,\r\n\t\t\theight - yScale(baseAt)\r\n\t\t);\r\n\t\tctx.clip();\r\n\t}\r\n\trenderClip(moreProps) {\r\n\t\tconst { chartConfig } = moreProps;\r\n\t\tconst { baseAt } = this.props;\r\n\t\tconst { yScale, width, height } = chartConfig;\r\n\r\n\t\treturn (\r\n\t\t\t<defs>\r\n\t\t\t\t<clipPath id={this.clipPathId1}>\r\n\t\t\t\t\t<rect\r\n\t\t\t\t\t\tx={0}\r\n\t\t\t\t\t\ty={0}\r\n\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t\theight={yScale(baseAt)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</clipPath>\r\n\t\t\t\t<clipPath id={this.clipPathId2}>\r\n\t\t\t\t\t<rect\r\n\t\t\t\t\t\tx={0}\r\n\t\t\t\t\t\ty={yScale(baseAt)}\r\n\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t\theight={height - yScale(baseAt)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</clipPath>\r\n\t\t\t</defs>\r\n\t\t);\r\n\t}\r\n\tbaseAt(yScale) {\r\n\t\treturn yScale(this.props.baseAt);\r\n\t}\r\n\trender() {\r\n\t\tconst { className, yAccessor, interpolation } = this.props;\r\n\t\tconst {\r\n\t\t\tstroke,\r\n\t\t\tstrokeWidth,\r\n\t\t\tstrokeOpacity,\r\n\t\t\tstrokeDasharray,\r\n\r\n\t\t\tfill,\r\n\t\t\tfillOpacity,\r\n\t\t} = this.props;\r\n\r\n\t\tconst style1 = { \"clipPath\": `url(#${this.clipPathId1})` };\r\n\t\tconst style2 = { \"clipPath\": `url(#${this.clipPathId2})` };\r\n\r\n\t\treturn (\r\n\t\t\t<g className={className}>\r\n\t\t\t\t<SVGComponent>\r\n\t\t\t\t\t{this.renderClip}\r\n\t\t\t\t</SVGComponent>\r\n\t\t\t\t<AreaSeries\r\n\t\t\t\t\tstyle={style1}\r\n\t\t\t\t\tcanvasClip={this.topClip}\r\n\r\n\t\t\t\t\tyAccessor={yAccessor}\r\n\t\t\t\t\tinterpolation={interpolation}\r\n\t\t\t\t\tbaseAt={this.baseAt}\r\n\r\n\t\t\t\t\tfill={fill.top}\r\n\t\t\t\t\topacity={fillOpacity.top}\r\n\t\t\t\t\tstroke={stroke.top}\r\n\t\t\t\t\tstrokeOpacity={strokeOpacity.top}\r\n\t\t\t\t\tstrokeDasharray={strokeDasharray.top}\r\n\t\t\t\t\tstrokeWidth={strokeWidth.top}\r\n\t\t\t\t/>\r\n\t\t\t\t<AreaSeries\r\n\t\t\t\t\tstyle={style2}\r\n\t\t\t\t\tcanvasClip={this.bottomClip}\r\n\r\n\t\t\t\t\tyAccessor={yAccessor}\r\n\t\t\t\t\tinterpolation={interpolation}\r\n\t\t\t\t\tbaseAt={this.baseAt}\r\n\r\n\t\t\t\t\tfill={fill.bottom}\r\n\t\t\t\t\topacity={fillOpacity.bottom}\r\n\t\t\t\t\tstroke={stroke.bottom}\r\n\t\t\t\t\tstrokeOpacity={strokeOpacity.bottom}\r\n\t\t\t\t\tstrokeDasharray={strokeDasharray.bottom}\r\n\t\t\t\t\tstrokeWidth={strokeWidth.bottom}\r\n\t\t\t\t/>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nAlternatingFillAreaSeries.propTypes = {\r\n\tstroke: PropTypes.shape({\r\n\t\ttop: PropTypes.string,\r\n\t\tbottom: PropTypes.string,\r\n\t}),\r\n\r\n\tstrokeWidth: PropTypes.shape({\r\n\t\ttop: PropTypes.number,\r\n\t\tbottom: PropTypes.number,\r\n\t}),\r\n\tstrokeOpacity: PropTypes.shape({\r\n\t\ttop: PropTypes.number,\r\n\t\tbottom: PropTypes.number,\r\n\t}),\r\n\tfill: PropTypes.shape({\r\n\t\ttop: PropTypes.string,\r\n\t\tbottom: PropTypes.string,\r\n\t}),\r\n\tfillOpacity: PropTypes.shape({\r\n\t\ttop: PropTypes.number,\r\n\t\tbottom: PropTypes.number,\r\n\t}),\r\n\tstrokeDasharray: PropTypes.shape({\r\n\t\ttop: PropTypes.oneOf(strokeDashTypes),\r\n\t\tbottom: PropTypes.oneOf(strokeDashTypes),\r\n\t}).isRequired,\r\n\r\n\tclassName: PropTypes.string,\r\n\tyAccessor: PropTypes.func.isRequired,\r\n\r\n\tbaseAt: PropTypes.number.isRequired,\r\n\r\n\tinterpolation: PropTypes.func,\r\n};\r\n\r\nAlternatingFillAreaSeries.defaultProps = {\r\n\tstroke: {\r\n\t\ttop: \"#38C172\",\r\n\t\tbottom: \"#E3342F\"\r\n\t},\r\n\tstrokeWidth: {\r\n\t\ttop: 2,\r\n\t\tbottom: 2,\r\n\t},\r\n\tstrokeOpacity: {\r\n\t\ttop: 1,\r\n\t\tbottom: 1,\r\n\t},\r\n\tfill: {\r\n\t\ttop: \"#A2F5BF\",\r\n\t\tbottom: \"#EF5753\",\r\n\t},\r\n\tfillOpacity: {\r\n\t\ttop: 0.5,\r\n\t\tbottom: 0.5,\r\n\t},\r\n\tstrokeDasharray: {\r\n\t\ttop: \"Solid\",\r\n\t\tbottom: \"Solid\",\r\n\t},\r\n\tclassName: \"react-stockcharts-alternating-area\",\r\n};\r\n\r\nexport default AlternatingFillAreaSeries;\r\n"],"mappings":"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"}