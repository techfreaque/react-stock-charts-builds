{"version":3,"file":"heikinAshi.js","names":["ALGORITHM_TYPE","base","baseIndicator","type","accessor","d","ha","underlyingAlgorithm","heikinAshi","mergedAlgorithm","merge","algorithm","datum","indicator","data","options","Error","rebind"],"sources":["../../../src/lib/indicator/heikinAshi.js"],"sourcesContent":["\r\n\r\nimport { heikinAshi } from \"../calculator\";\r\nimport baseIndicator from \"./baseIndicator\";\r\n\r\nimport { rebind, merge } from \"../utils\";\r\n\r\nconst ALGORITHM_TYPE = \"HeikinAshi\";\r\n\r\nexport default function() {\r\n\r\n\tconst base = baseIndicator()\r\n\t\t.type(ALGORITHM_TYPE)\r\n\t\t.accessor(d => d.ha);\r\n\r\n\tconst underlyingAlgorithm = heikinAshi();\r\n\r\n\tconst mergedAlgorithm = merge()\r\n\t\t.algorithm(underlyingAlgorithm)\r\n\t\t.merge((datum, indicator) => {\r\n\t\t\treturn { ...datum, ...indicator };\r\n\t\t});\r\n\r\n\tconst indicator = function(data, options = { merge: true }) {\r\n\t\tif (options.merge) {\r\n\t\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\r\n\t\t\treturn mergedAlgorithm(data);\r\n\t\t}\r\n\t\treturn underlyingAlgorithm(data);\r\n\t};\r\n\r\n\trebind(indicator, base, \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\r\n\t// rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\r\n\trebind(indicator, mergedAlgorithm, \"merge\");\r\n\r\n\treturn indicator;\r\n}\r\n"],"mappings":";;;;;;;AAEA;;AACA;;AAEA;;;;;;;;;;AAEA,IAAMA,cAAc,GAAG,YAAvB;;AAEe,oBAAW;EAEzB,IAAMC,IAAI,GAAG,IAAAC,yBAAA,IACXC,IADW,CACNH,cADM,EAEXI,QAFW,CAEF,UAAAC,CAAC;IAAA,OAAIA,CAAC,CAACC,EAAN;EAAA,CAFC,CAAb;EAIA,IAAMC,mBAAmB,GAAG,IAAAC,sBAAA,GAA5B;EAEA,IAAMC,eAAe,GAAG,IAAAC,YAAA,IACtBC,SADsB,CACZJ,mBADY,EAEtBG,KAFsB,CAEhB,UAACE,KAAD,EAAQC,SAAR,EAAsB;IAC5B,uCAAYD,KAAZ,GAAsBC,SAAtB;EACA,CAJsB,CAAxB;;EAMA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAASC,IAAT,EAA0C;IAAA,IAA3BC,OAA2B,uEAAjB;MAAEL,KAAK,EAAE;IAAT,CAAiB;;IAC3D,IAAIK,OAAO,CAACL,KAAZ,EAAmB;MAClB,IAAI,CAACT,IAAI,CAACG,QAAL,EAAL,EAAsB,MAAM,IAAIY,KAAJ,8BAAgChB,cAAhC,yBAAN;MACtB,OAAOS,eAAe,CAACK,IAAD,CAAtB;IACA;;IACD,OAAOP,mBAAmB,CAACO,IAAD,CAA1B;EACA,CAND;;EAQA,IAAAG,aAAA,EAAOJ,SAAP,EAAkBZ,IAAlB,EAAwB,UAAxB,EAAoC,QAApC,EAA8C,MAA9C,EAAsD,MAAtD,EAA8D,MAA9D,EAtByB,CAuBzB;;EACA,IAAAgB,aAAA,EAAOJ,SAAP,EAAkBJ,eAAlB,EAAmC,OAAnC;EAEA,OAAOI,SAAP;AACA"}