{"version":3,"file":"change.js","names":["ALGORITHM_TYPE","base","baseIndicator","type","underlyingAlgorithm","change","mergedAlgorithm","merge","algorithm","datum","indicator","absoluteChange","percentChange","data","options","rebind"],"sources":["../../../src/lib/indicator/change.js"],"sourcesContent":["\r\n\r\nimport { rebind, merge } from \"../utils\";\r\n\r\nimport { change } from \"../calculator\";\r\n\r\nimport baseIndicator from \"./baseIndicator\";\r\n\r\nconst ALGORITHM_TYPE = \"Change\";\r\n\r\nexport default function() {\r\n\r\n\tconst base = baseIndicator()\r\n\t\t.type(ALGORITHM_TYPE);\r\n\r\n\tconst underlyingAlgorithm = change();\r\n\r\n\tconst mergedAlgorithm = merge()\r\n\t\t.algorithm(underlyingAlgorithm)\r\n\t\t.merge((datum, indicator) => {\r\n\t\t\tdatum.absoluteChange = indicator.absoluteChange;\r\n\t\t\tdatum.percentChange = indicator.percentChange;\r\n\t\t});\r\n\r\n\tconst indicator = function(data, options = { merge: true }) {\r\n\t\tif (options.merge) {\r\n\t\t\treturn mergedAlgorithm(data);\r\n\t\t}\r\n\t\treturn underlyingAlgorithm(data);\r\n\t};\r\n\trebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\r\n\trebind(indicator, underlyingAlgorithm, \"options\");\r\n\trebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\r\n\r\n\treturn indicator;\r\n}\r\n"],"mappings":";;;;;;;AAEA;;AAEA;;AAEA;;;;AAEA,IAAMA,cAAc,GAAG,QAAvB;;AAEe,oBAAW;EAEzB,IAAMC,IAAI,GAAG,IAAAC,yBAAA,IACXC,IADW,CACNH,cADM,CAAb;EAGA,IAAMI,mBAAmB,GAAG,IAAAC,kBAAA,GAA5B;EAEA,IAAMC,eAAe,GAAG,IAAAC,YAAA,IACtBC,SADsB,CACZJ,mBADY,EAEtBG,KAFsB,CAEhB,UAACE,KAAD,EAAQC,SAAR,EAAsB;IAC5BD,KAAK,CAACE,cAAN,GAAuBD,SAAS,CAACC,cAAjC;IACAF,KAAK,CAACG,aAAN,GAAsBF,SAAS,CAACE,aAAhC;EACA,CALsB,CAAxB;;EAOA,IAAMF,SAAS,GAAG,SAAZA,SAAY,CAASG,IAAT,EAA0C;IAAA,IAA3BC,OAA2B,uEAAjB;MAAEP,KAAK,EAAE;IAAT,CAAiB;;IAC3D,IAAIO,OAAO,CAACP,KAAZ,EAAmB;MAClB,OAAOD,eAAe,CAACO,IAAD,CAAtB;IACA;;IACD,OAAOT,mBAAmB,CAACS,IAAD,CAA1B;EACA,CALD;;EAMA,IAAAE,aAAA,EAAOL,SAAP,EAAkBT,IAAlB,EAAwB,IAAxB,EAA8B,UAA9B,EAA0C,QAA1C,EAAoD,MAApD,EAA4D,MAA5D,EAAoE,MAApE;EACA,IAAAc,aAAA,EAAOL,SAAP,EAAkBN,mBAAlB,EAAuC,SAAvC;EACA,IAAAW,aAAA,EAAOL,SAAP,EAAkBJ,eAAlB,EAAmC,OAAnC,EAA4C,eAA5C;EAEA,OAAOI,SAAP;AACA"}