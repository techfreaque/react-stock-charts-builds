{"version":3,"file":"StraightLine.js","names":["StraightLine","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","isDefined","x1Value","x2Value","y1Value","y2Value","type","mouseXY","xScale","yScale","chartConfig","hovering","isHovering","ctx","stroke","strokeWidth","strokeOpacity","strokeDasharray","helper","x1","y1","x2","y2","lineWidth","strokeStyle","hexToRGBA","setLineDash","getStrokeDasharray","split","beginPath","moveTo","lineTo","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","getMouseCanvas","Component","isHovering2","start","end","mouseX","mouseY","m","getSlope","b","getYIntercept","y","Math","min","max","line","generateLine","modLine","undefined","getXLineCoordinates","getRayCoordinates","getLineCoordinates","domain","xBegin","xFinish","yBegin","yFinish","propTypes","PropTypes","any","isRequired","string","number","oneOf","strokeDashTypes","onEdge1Drag","func","onEdge2Drag","defaultClassName","r","edgeFill","edgeStroke","edgeStrokeWidth","withEdge","bool","children","defaultProps","noop"],"sources":["../../../../src/lib/interactive/components/StraightLine.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GenericChartComponent from \"../../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../../GenericComponent\";\r\n\r\nimport {\r\n\tisDefined,\r\n\tnoop,\r\n\thexToRGBA,\r\n\tgetStrokeDasharray,\r\n\tstrokeDashTypes,\r\n} from \"../../utils\";\r\n\r\nclass StraightLine extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t\tthis.isHover = this.isHover.bind(this);\r\n\t}\r\n\tisHover(moreProps) {\r\n\t\tconst { tolerance, onHover } = this.props;\r\n\r\n\t\tif (isDefined(onHover)) {\r\n\t\t\tconst { x1Value, x2Value, y1Value, y2Value, type } = this.props;\r\n\t\t\tconst { mouseXY, xScale } = moreProps;\r\n\t\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\r\n\t\t\tconst hovering = isHovering({\r\n\t\t\t\tx1Value, y1Value,\r\n\t\t\t\tx2Value, y2Value,\r\n\t\t\t\tmouseXY,\r\n\t\t\t\ttype,\r\n\t\t\t\ttolerance,\r\n\t\t\t\txScale,\r\n\t\t\t\tyScale,\r\n\t\t\t});\r\n\r\n\t\t\t// console.log(\"hovering ->\", hovering);\r\n\r\n\t\t\treturn hovering;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\r\n\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\r\n\t\tctx.lineWidth = strokeWidth;\r\n\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\r\n\t\tctx.setLineDash(getStrokeDasharray(strokeDasharray).split(\",\"));\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x1, y1);\r\n\t\tctx.lineTo(x2, y2);\r\n\t\tctx.stroke();\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\r\n\r\n\t\tconst lineWidth = strokeWidth;\r\n\r\n\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\t\treturn (\r\n\t\t\t<line\r\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\r\n\t\t\t\tstroke={stroke} strokeWidth={lineWidth}\r\n\t\t\t\tstrokeDasharray={getStrokeDasharray(strokeDasharray)}\r\n\t\t\t\tstrokeOpacity={strokeOpacity} />\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { selected, interactiveCursorClass } = this.props;\r\n\t\tconst { onDragStart, onDrag, onDragComplete, onHover, onUnHover } = this.props;\r\n\r\n\t\treturn <GenericChartComponent\r\n\t\t\tisHover={this.isHover}\r\n\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\r\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\r\n\t\t\tselected={selected}\r\n\r\n\t\t\tonDragStart={onDragStart}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragComplete={onDragComplete}\r\n\t\t\tonHover={onHover}\r\n\t\t\tonUnHover={onUnHover}\r\n\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nexport function isHovering2(start, end, [mouseX, mouseY], tolerance) {\r\n\tconst m = getSlope(start, end);\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\t\treturn (mouseY < y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nexport function isHovering({\r\n\tx1Value, y1Value,\r\n\tx2Value, y2Value,\r\n\tmouseXY,\r\n\ttype,\r\n\ttolerance,\r\n\txScale,\r\n\tyScale,\r\n}) {\r\n\r\n\tconst line = generateLine({\r\n\t\ttype,\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n\t});\r\n\r\n\tconst start = [xScale(line.x1), yScale(line.y1)];\r\n\tconst end = [xScale(line.x2), yScale(line.y2)];\r\n\r\n\tconst m = getSlope(start, end);\r\n\tconst [mouseX, mouseY] = mouseXY;\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\r\n\t\treturn mouseY < (y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { x1Value, x2Value, y1Value, y2Value, type } = props;\r\n\r\n\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\tconst modLine = generateLine({\r\n\t\ttype,\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n\t});\r\n\r\n\tconst x1 = xScale(modLine.x1);\r\n\tconst y1 = yScale(modLine.y1);\r\n\tconst x2 = xScale(modLine.x2);\r\n\tconst y2 = yScale(modLine.y2);\r\n\r\n\treturn {\r\n\t\tx1, y1, x2, y2\r\n\t};\r\n}\r\n\r\nexport function getSlope(start, end) {\r\n\tconst m /* slope */ = end[0] === start[0]\r\n\t\t? undefined\r\n\t\t: (end[1] - start[1]) / (end[0] - start[0]);\r\n\treturn m;\r\n}\r\nexport function getYIntercept(m, end) {\r\n\tconst b /* y intercept */ = -1 * m * end[0] + end[1];\r\n\treturn b;\r\n}\r\n\r\nexport function generateLine({\r\n\ttype, start, end, xScale, yScale\r\n}) {\r\n\tconst m /* slope */ = getSlope(start, end);\r\n\t// console.log(end[0] - start[0], m)\r\n\tconst b /* y intercept */ = getYIntercept(m, start);\r\n\r\n\tswitch (type) {\r\n\t\tcase \"XLINE\":\r\n\t\t\treturn getXLineCoordinates({\r\n\t\t\t\ttype, start, end, xScale, yScale, m, b\r\n\t\t\t});\r\n\t\tcase \"RAY\":\r\n\t\t\treturn getRayCoordinates({\r\n\t\t\t\ttype, start, end, xScale, yScale, m, b\r\n\t\t\t});\r\n\t\tcase \"LINE\":\r\n\t\t\treturn getLineCoordinates({\r\n\t\t\t\ttype, start, end, xScale, yScale, m, b\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nfunction getXLineCoordinates({\r\n\tstart, end, xScale, yScale, m, b\r\n}) {\r\n\tconst [xBegin, xFinish] = xScale.domain();\r\n\tconst [yBegin, yFinish] = yScale.domain();\r\n\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1: end[0], y1: yBegin,\r\n\t\t\tx2: end[0], y2: yFinish,\r\n\t\t};\r\n\t}\r\n\tconst [x1, x2] = end[0] > start[0]\r\n\t\t? [xBegin, xFinish]\r\n\t\t: [xFinish, xBegin];\r\n\r\n\treturn {\r\n\t\tx1, y1: m * x1 + b,\r\n\t\tx2, y2: m * x2 + b\r\n\t};\r\n}\r\n\r\nfunction getRayCoordinates({\r\n\tstart, end, xScale, yScale, m, b\r\n}) {\r\n\tconst [xBegin, xFinish] = xScale.domain();\r\n\tconst [yBegin, yFinish] = yScale.domain();\r\n\r\n\tconst x1 = start[0];\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1,\r\n\t\t\ty1: start[1],\r\n\t\t\tx2: x1,\r\n\t\t\ty2: end[1] > start[1] ? yFinish : yBegin,\r\n\t\t};\r\n\t}\r\n\r\n\tconst x2 = end[0] > start[0]\r\n\t\t? xFinish\r\n\t\t: xBegin;\r\n\r\n\treturn {\r\n\t\tx1, y1: m * x1 + b,\r\n\t\tx2, y2: m * x2 + b\r\n\t};\r\n}\r\n\r\nfunction getLineCoordinates({\r\n\tstart, end\r\n}) {\r\n\r\n\tconst [x1, y1] = start;\r\n\tconst [x2, y2] = end;\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1,\r\n\t\t\ty1: start[1],\r\n\t\t\tx2: x1,\r\n\t\t\ty2: end[1],\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tx1, y1,\r\n\t\tx2, y2,\r\n\t};\r\n}\r\n\r\nStraightLine.propTypes = {\r\n\tx1Value: PropTypes.any.isRequired,\r\n\tx2Value: PropTypes.any.isRequired,\r\n\ty1Value: PropTypes.any.isRequired,\r\n\ty2Value: PropTypes.any.isRequired,\r\n\r\n\tinteractiveCursorClass: PropTypes.string,\r\n\tstroke: PropTypes.string.isRequired,\r\n\tstrokeWidth: PropTypes.number.isRequired,\r\n\tstrokeOpacity: PropTypes.number.isRequired,\r\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\r\n\ttype: PropTypes.oneOf([\r\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\r\n\t\t\"RAY\", // extends to +/-Infinity in one direction\r\n\t\t\"LINE\", // extends between the set bounds\r\n\t]).isRequired,\r\n\r\n\tonEdge1Drag: PropTypes.func.isRequired,\r\n\tonEdge2Drag: PropTypes.func.isRequired,\r\n\tonDragStart: PropTypes.func.isRequired,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n\tonHover: PropTypes.func,\r\n\tonUnHover: PropTypes.func,\r\n\r\n\tdefaultClassName: PropTypes.string,\r\n\r\n\tr: PropTypes.number.isRequired,\r\n\tedgeFill: PropTypes.string.isRequired,\r\n\tedgeStroke: PropTypes.string.isRequired,\r\n\tedgeStrokeWidth: PropTypes.number.isRequired,\r\n\twithEdge: PropTypes.bool.isRequired,\r\n\tchildren: PropTypes.func.isRequired,\r\n\ttolerance: PropTypes.number.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n};\r\n\r\nStraightLine.defaultProps = {\r\n\tonEdge1Drag: noop,\r\n\tonEdge2Drag: noop,\r\n\tonDragStart: noop,\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\r\n\tedgeStrokeWidth: 3,\r\n\tedgeStroke: \"#000000\",\r\n\tedgeFill: \"#FFFFFF\",\r\n\tr: 10,\r\n\twithEdge: false,\r\n\tstrokeWidth: 1,\r\n\tstrokeDasharray: \"Solid\",\r\n\tchildren: noop,\r\n\ttolerance: 7,\r\n\tselected: false,\r\n};\r\n\r\nexport default StraightLine;\r\n"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQMA,Y;;;;;EACL,sBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IAClB,0BAAMA,KAAN;IAEA,MAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB;IACA,MAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB;IACA,MAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,+BAAf;IALkB;EAMlB;;;;WACD,iBAAQG,SAAR,EAAmB;MAClB,kBAA+B,KAAKL,KAApC;MAAA,IAAQM,SAAR,eAAQA,SAAR;MAAA,IAAmBC,OAAnB,eAAmBA,OAAnB;;MAEA,IAAI,IAAAC,gBAAA,EAAUD,OAAV,CAAJ,EAAwB;QACvB,mBAAqD,KAAKP,KAA1D;QAAA,IAAQS,OAAR,gBAAQA,OAAR;QAAA,IAAiBC,OAAjB,gBAAiBA,OAAjB;QAAA,IAA0BC,OAA1B,gBAA0BA,OAA1B;QAAA,IAAmCC,OAAnC,gBAAmCA,OAAnC;QAAA,IAA4CC,IAA5C,gBAA4CA,IAA5C;QACA,IAAQC,OAAR,GAA4BT,SAA5B,CAAQS,OAAR;QAAA,IAAiBC,MAAjB,GAA4BV,SAA5B,CAAiBU,MAAjB;QACA,IAAuBC,MAAvB,GAAoCX,SAApC,CAAQY,WAAR,CAAuBD,MAAvB;QAEA,IAAME,QAAQ,GAAGC,UAAU,CAAC;UAC3BV,OAAO,EAAPA,OAD2B;UAClBE,OAAO,EAAPA,OADkB;UAE3BD,OAAO,EAAPA,OAF2B;UAElBE,OAAO,EAAPA,OAFkB;UAG3BE,OAAO,EAAPA,OAH2B;UAI3BD,IAAI,EAAJA,IAJ2B;UAK3BP,SAAS,EAATA,SAL2B;UAM3BS,MAAM,EAANA,MAN2B;UAO3BC,MAAM,EAANA;QAP2B,CAAD,CAA3B,CALuB,CAevB;;QAEA,OAAOE,QAAP;MACA;;MACD,OAAO,KAAP;IACA;;;WACD,sBAAaE,GAAb,EAAkBf,SAAlB,EAA6B;MAC5B,mBAAgE,KAAKL,KAArE;MAAA,IAAQqB,MAAR,gBAAQA,MAAR;MAAA,IAAgBC,WAAhB,gBAAgBA,WAAhB;MAAA,IAA6BC,aAA7B,gBAA6BA,aAA7B;MAAA,IAA4CC,eAA5C,gBAA4CA,eAA5C;;MACA,cAA2BC,MAAM,CAAC,KAAKzB,KAAN,EAAaK,SAAb,CAAjC;MAAA,IAAQqB,EAAR,WAAQA,EAAR;MAAA,IAAYC,EAAZ,WAAYA,EAAZ;MAAA,IAAgBC,EAAhB,WAAgBA,EAAhB;MAAA,IAAoBC,EAApB,WAAoBA,EAApB;;MAEAT,GAAG,CAACU,SAAJ,GAAgBR,WAAhB;MACAF,GAAG,CAACW,WAAJ,GAAkB,IAAAC,gBAAA,EAAUX,MAAV,EAAkBE,aAAlB,CAAlB;MACAH,GAAG,CAACa,WAAJ,CAAgB,IAAAC,yBAAA,EAAmBV,eAAnB,EAAoCW,KAApC,CAA0C,GAA1C,CAAhB;MAEAf,GAAG,CAACgB,SAAJ;MACAhB,GAAG,CAACiB,MAAJ,CAAWX,EAAX,EAAeC,EAAf;MACAP,GAAG,CAACkB,MAAJ,CAAWV,EAAX,EAAeC,EAAf;MACAT,GAAG,CAACC,MAAJ;IACA;;;WACD,mBAAUhB,SAAV,EAAqB;MACpB,mBAAgE,KAAKL,KAArE;MAAA,IAAQqB,MAAR,gBAAQA,MAAR;MAAA,IAAgBC,WAAhB,gBAAgBA,WAAhB;MAAA,IAA6BC,aAA7B,gBAA6BA,aAA7B;MAAA,IAA4CC,eAA5C,gBAA4CA,eAA5C;MAEA,IAAMM,SAAS,GAAGR,WAAlB;;MAEA,eAA2BG,MAAM,CAAC,KAAKzB,KAAN,EAAaK,SAAb,CAAjC;MAAA,IAAQqB,EAAR,YAAQA,EAAR;MAAA,IAAYC,EAAZ,YAAYA,EAAZ;MAAA,IAAgBC,EAAhB,YAAgBA,EAAhB;MAAA,IAAoBC,EAApB,YAAoBA,EAApB;;MACA,oBACC;QACC,EAAE,EAAEH,EADL;QACS,EAAE,EAAEC,EADb;QACiB,EAAE,EAAEC,EADrB;QACyB,EAAE,EAAEC,EAD7B;QAEC,MAAM,EAAER,MAFT;QAEiB,WAAW,EAAES,SAF9B;QAGC,eAAe,EAAE,IAAAI,yBAAA,EAAmBV,eAAnB,CAHlB;QAIC,aAAa,EAAED;MAJhB,EADD;IAOA;;;WACD,kBAAS;MACR,mBAA6C,KAAKvB,KAAlD;MAAA,IAAQuC,QAAR,gBAAQA,QAAR;MAAA,IAAkBC,sBAAlB,gBAAkBA,sBAAlB;MACA,mBAAoE,KAAKxC,KAAzE;MAAA,IAAQyC,WAAR,gBAAQA,WAAR;MAAA,IAAqBC,MAArB,gBAAqBA,MAArB;MAAA,IAA6BC,cAA7B,gBAA6BA,cAA7B;MAAA,IAA6CpC,OAA7C,gBAA6CA,OAA7C;MAAA,IAAsDqC,SAAtD,gBAAsDA,SAAtD;MAEA,oBAAO,gCAAC,iCAAD;QACN,OAAO,EAAE,KAAKxC,OADR;QAGN,OAAO,EAAE,KAAKH,SAHR;QAIN,YAAY,EAAE4C,gCAJR;QAKN,UAAU,EAAE,KAAK1C,YALX;QAON,sBAAsB,EAAEqC,sBAPlB;QAQN,QAAQ,EAAED,QARJ;QAUN,WAAW,EAAEE,WAVP;QAWN,MAAM,EAAEC,MAXF;QAYN,cAAc,EAAEC,cAZV;QAaN,OAAO,EAAEpC,OAbH;QAcN,SAAS,EAAEqC,SAdL;QAgBN,MAAM,EAAE,CAAC,WAAD,EAAc,KAAd,EAAqB,MAArB;MAhBF,EAAP;IAkBA;;;;EAjFyBE,gB;;AAoFpB,SAASC,WAAT,CAAqBC,KAArB,EAA4BC,GAA5B,QAAmD3C,SAAnD,EAA8D;EAAA;EAAA,IAA5B4C,MAA4B;EAAA,IAApBC,MAAoB;;EACpE,IAAMC,CAAC,GAAGC,QAAQ,CAACL,KAAD,EAAQC,GAAR,CAAlB;;EAEA,IAAI,IAAAzC,gBAAA,EAAU4C,CAAV,CAAJ,EAAkB;IACjB,IAAME,CAAC,GAAGC,aAAa,CAACH,CAAD,EAAIH,GAAJ,CAAvB;IACA,IAAMO,CAAC,GAAGJ,CAAC,GAAGF,MAAJ,GAAaI,CAAvB;IACA,OAAQH,MAAM,GAAGK,CAAC,GAAGlD,SAAd,IACH6C,MAAM,GAAIK,CAAC,GAAGlD,SADX,IAEH4C,MAAM,GAAGO,IAAI,CAACC,GAAL,CAASV,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,IAA6B3C,SAFnC,IAGH4C,MAAM,GAAGO,IAAI,CAACE,GAAL,CAASX,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,IAA6B3C,SAH1C;EAIA,CAPD,MAOO;IACN,OAAO6C,MAAM,IAAIM,IAAI,CAACC,GAAL,CAASV,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,CAAV,IACHE,MAAM,IAAIM,IAAI,CAACE,GAAL,CAASX,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,CADP,IAEHC,MAAM,GAAGF,KAAK,CAAC,CAAD,CAAL,GAAW1C,SAFjB,IAGH4C,MAAM,GAAGF,KAAK,CAAC,CAAD,CAAL,GAAW1C,SAHxB;EAIA;AACD;;AAEM,SAASa,UAAT,QAQJ;EAAA,IAPFV,OAOE,SAPFA,OAOE;EAAA,IAPOE,OAOP,SAPOA,OAOP;EAAA,IANFD,OAME,SANFA,OAME;EAAA,IANOE,OAMP,SANOA,OAMP;EAAA,IALFE,OAKE,SALFA,OAKE;EAAA,IAJFD,IAIE,SAJFA,IAIE;EAAA,IAHFP,SAGE,SAHFA,SAGE;EAAA,IAFFS,MAEE,SAFFA,MAEE;EAAA,IADFC,MACE,SADFA,MACE;EAEF,IAAM4C,IAAI,GAAGC,YAAY,CAAC;IACzBhD,IAAI,EAAJA,IADyB;IAEzBmC,KAAK,EAAE,CAACvC,OAAD,EAAUE,OAAV,CAFkB;IAGzBsC,GAAG,EAAE,CAACvC,OAAD,EAAUE,OAAV,CAHoB;IAIzBG,MAAM,EAANA,MAJyB;IAKzBC,MAAM,EAANA;EALyB,CAAD,CAAzB;EAQA,IAAMgC,KAAK,GAAG,CAACjC,MAAM,CAAC6C,IAAI,CAAClC,EAAN,CAAP,EAAkBV,MAAM,CAAC4C,IAAI,CAACjC,EAAN,CAAxB,CAAd;EACA,IAAMsB,GAAG,GAAG,CAAClC,MAAM,CAAC6C,IAAI,CAAChC,EAAN,CAAP,EAAkBZ,MAAM,CAAC4C,IAAI,CAAC/B,EAAN,CAAxB,CAAZ;EAEA,IAAMuB,CAAC,GAAGC,QAAQ,CAACL,KAAD,EAAQC,GAAR,CAAlB;;EACA,8BAAyBnC,OAAzB;EAAA,IAAOoC,MAAP;EAAA,IAAeC,MAAf;;EAEA,IAAI,IAAA3C,gBAAA,EAAU4C,CAAV,CAAJ,EAAkB;IACjB,IAAME,CAAC,GAAGC,aAAa,CAACH,CAAD,EAAIH,GAAJ,CAAvB;IACA,IAAMO,CAAC,GAAGJ,CAAC,GAAGF,MAAJ,GAAaI,CAAvB;IAEA,OAAOH,MAAM,GAAIK,CAAC,GAAGlD,SAAd,IACH6C,MAAM,GAAIK,CAAC,GAAGlD,SADX,IAEH4C,MAAM,GAAGO,IAAI,CAACC,GAAL,CAASV,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,IAA6B3C,SAFnC,IAGH4C,MAAM,GAAGO,IAAI,CAACE,GAAL,CAASX,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,IAA6B3C,SAH1C;EAIA,CARD,MAQO;IACN,OAAO6C,MAAM,IAAIM,IAAI,CAACC,GAAL,CAASV,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,CAAV,IACHE,MAAM,IAAIM,IAAI,CAACE,GAAL,CAASX,KAAK,CAAC,CAAD,CAAd,EAAmBC,GAAG,CAAC,CAAD,CAAtB,CADP,IAEHC,MAAM,GAAGF,KAAK,CAAC,CAAD,CAAL,GAAW1C,SAFjB,IAGH4C,MAAM,GAAGF,KAAK,CAAC,CAAD,CAAL,GAAW1C,SAHxB;EAIA;AACD;;AAED,SAASmB,MAAT,CAAgBzB,KAAhB,EAAuBK,SAAvB,EAAkC;EACjC,IAAQI,OAAR,GAAqDT,KAArD,CAAQS,OAAR;EAAA,IAAiBC,OAAjB,GAAqDV,KAArD,CAAiBU,OAAjB;EAAA,IAA0BC,OAA1B,GAAqDX,KAArD,CAA0BW,OAA1B;EAAA,IAAmCC,OAAnC,GAAqDZ,KAArD,CAAmCY,OAAnC;EAAA,IAA4CC,IAA5C,GAAqDb,KAArD,CAA4Ca,IAA5C;EAEA,IAAQE,MAAR,GAA4CV,SAA5C,CAAQU,MAAR;EAAA,IAA+BC,MAA/B,GAA4CX,SAA5C,CAAgBY,WAAhB,CAA+BD,MAA/B;EAEA,IAAM8C,OAAO,GAAGD,YAAY,CAAC;IAC5BhD,IAAI,EAAJA,IAD4B;IAE5BmC,KAAK,EAAE,CAACvC,OAAD,EAAUE,OAAV,CAFqB;IAG5BsC,GAAG,EAAE,CAACvC,OAAD,EAAUE,OAAV,CAHuB;IAI5BG,MAAM,EAANA,MAJ4B;IAK5BC,MAAM,EAANA;EAL4B,CAAD,CAA5B;EAQA,IAAMU,EAAE,GAAGX,MAAM,CAAC+C,OAAO,CAACpC,EAAT,CAAjB;EACA,IAAMC,EAAE,GAAGX,MAAM,CAAC8C,OAAO,CAACnC,EAAT,CAAjB;EACA,IAAMC,EAAE,GAAGb,MAAM,CAAC+C,OAAO,CAAClC,EAAT,CAAjB;EACA,IAAMC,EAAE,GAAGb,MAAM,CAAC8C,OAAO,CAACjC,EAAT,CAAjB;EAEA,OAAO;IACNH,EAAE,EAAFA,EADM;IACFC,EAAE,EAAFA,EADE;IACEC,EAAE,EAAFA,EADF;IACMC,EAAE,EAAFA;EADN,CAAP;AAGA;;AAEM,SAASwB,QAAT,CAAkBL,KAAlB,EAAyBC,GAAzB,EAA8B;EACpC,IAAMG;EAAE;EAAD,EAAeH,GAAG,CAAC,CAAD,CAAH,KAAWD,KAAK,CAAC,CAAD,CAAhB,GACnBe,SADmB,GAEnB,CAACd,GAAG,CAAC,CAAD,CAAH,GAASD,KAAK,CAAC,CAAD,CAAf,KAAuBC,GAAG,CAAC,CAAD,CAAH,GAASD,KAAK,CAAC,CAAD,CAArC,CAFH;EAGA,OAAOI,CAAP;AACA;;AACM,SAASG,aAAT,CAAuBH,CAAvB,EAA0BH,GAA1B,EAA+B;EACrC,IAAMK;EAAE;EAAD,EAAqB,CAAC,CAAD,GAAKF,CAAL,GAASH,GAAG,CAAC,CAAD,CAAZ,GAAkBA,GAAG,CAAC,CAAD,CAAjD;EACA,OAAOK,CAAP;AACA;;AAEM,SAASO,YAAT,QAEJ;EAAA,IADFhD,IACE,SADFA,IACE;EAAA,IADImC,KACJ,SADIA,KACJ;EAAA,IADWC,GACX,SADWA,GACX;EAAA,IADgBlC,MAChB,SADgBA,MAChB;EAAA,IADwBC,MACxB,SADwBA,MACxB;EACF,IAAMoC;EAAE;EAAD,EAAeC,QAAQ,CAACL,KAAD,EAAQC,GAAR,CAA9B,CADE,CAEF;;EACA,IAAMK;EAAE;EAAD,EAAqBC,aAAa,CAACH,CAAD,EAAIJ,KAAJ,CAAzC;;EAEA,QAAQnC,IAAR;IACC,KAAK,OAAL;MACC,OAAOmD,mBAAmB,CAAC;QAC1BnD,IAAI,EAAJA,IAD0B;QACpBmC,KAAK,EAALA,KADoB;QACbC,GAAG,EAAHA,GADa;QACRlC,MAAM,EAANA,MADQ;QACAC,MAAM,EAANA,MADA;QACQoC,CAAC,EAADA,CADR;QACWE,CAAC,EAADA;MADX,CAAD,CAA1B;;IAGD,KAAK,KAAL;MACC,OAAOW,iBAAiB,CAAC;QACxBpD,IAAI,EAAJA,IADwB;QAClBmC,KAAK,EAALA,KADkB;QACXC,GAAG,EAAHA,GADW;QACNlC,MAAM,EAANA,MADM;QACEC,MAAM,EAANA,MADF;QACUoC,CAAC,EAADA,CADV;QACaE,CAAC,EAADA;MADb,CAAD,CAAxB;;IAGD,KAAK,MAAL;MACC,OAAOY,kBAAkB,CAAC;QACzBrD,IAAI,EAAJA,IADyB;QACnBmC,KAAK,EAALA,KADmB;QACZC,GAAG,EAAHA,GADY;QACPlC,MAAM,EAANA,MADO;QACCC,MAAM,EAANA,MADD;QACSoC,CAAC,EAADA,CADT;QACYE,CAAC,EAADA;MADZ,CAAD,CAAzB;EAVF;AAcA;;AAED,SAASU,mBAAT,QAEG;EAAA,IADFhB,KACE,SADFA,KACE;EAAA,IADKC,GACL,SADKA,GACL;EAAA,IADUlC,MACV,SADUA,MACV;EAAA,IADkBC,MAClB,SADkBA,MAClB;EAAA,IAD0BoC,CAC1B,SAD0BA,CAC1B;EAAA,IAD6BE,CAC7B,SAD6BA,CAC7B;;EACF,qBAA0BvC,MAAM,CAACoD,MAAP,EAA1B;EAAA;EAAA,IAAOC,MAAP;EAAA,IAAeC,OAAf;;EACA,qBAA0BrD,MAAM,CAACmD,MAAP,EAA1B;EAAA;EAAA,IAAOG,MAAP;EAAA,IAAeC,OAAf;;EAEA,IAAItB,GAAG,CAAC,CAAD,CAAH,KAAWD,KAAK,CAAC,CAAD,CAApB,EAAyB;IACxB,OAAO;MACNtB,EAAE,EAAEuB,GAAG,CAAC,CAAD,CADD;MACMtB,EAAE,EAAE2C,MADV;MAEN1C,EAAE,EAAEqB,GAAG,CAAC,CAAD,CAFD;MAEMpB,EAAE,EAAE0C;IAFV,CAAP;EAIA;;EACD,YAAiBtB,GAAG,CAAC,CAAD,CAAH,GAASD,KAAK,CAAC,CAAD,CAAd,GACd,CAACoB,MAAD,EAASC,OAAT,CADc,GAEd,CAACA,OAAD,EAAUD,MAAV,CAFH;EAAA;EAAA,IAAO1C,EAAP;EAAA,IAAWE,EAAX;;EAIA,OAAO;IACNF,EAAE,EAAFA,EADM;IACFC,EAAE,EAAEyB,CAAC,GAAG1B,EAAJ,GAAS4B,CADX;IAEN1B,EAAE,EAAFA,EAFM;IAEFC,EAAE,EAAEuB,CAAC,GAAGxB,EAAJ,GAAS0B;EAFX,CAAP;AAIA;;AAED,SAASW,iBAAT,QAEG;EAAA,IADFjB,KACE,SADFA,KACE;EAAA,IADKC,GACL,SADKA,GACL;EAAA,IADUlC,MACV,SADUA,MACV;EAAA,IADkBC,MAClB,SADkBA,MAClB;EAAA,IAD0BoC,CAC1B,SAD0BA,CAC1B;EAAA,IAD6BE,CAC7B,SAD6BA,CAC7B;;EACF,sBAA0BvC,MAAM,CAACoD,MAAP,EAA1B;EAAA;EAAA,IAAOC,MAAP;EAAA,IAAeC,OAAf;;EACA,sBAA0BrD,MAAM,CAACmD,MAAP,EAA1B;EAAA;EAAA,IAAOG,MAAP;EAAA,IAAeC,OAAf;;EAEA,IAAM7C,EAAE,GAAGsB,KAAK,CAAC,CAAD,CAAhB;;EACA,IAAIC,GAAG,CAAC,CAAD,CAAH,KAAWD,KAAK,CAAC,CAAD,CAApB,EAAyB;IACxB,OAAO;MACNtB,EAAE,EAAFA,EADM;MAENC,EAAE,EAAEqB,KAAK,CAAC,CAAD,CAFH;MAGNpB,EAAE,EAAEF,EAHE;MAING,EAAE,EAAEoB,GAAG,CAAC,CAAD,CAAH,GAASD,KAAK,CAAC,CAAD,CAAd,GAAoBuB,OAApB,GAA8BD;IAJ5B,CAAP;EAMA;;EAED,IAAM1C,EAAE,GAAGqB,GAAG,CAAC,CAAD,CAAH,GAASD,KAAK,CAAC,CAAD,CAAd,GACRqB,OADQ,GAERD,MAFH;EAIA,OAAO;IACN1C,EAAE,EAAFA,EADM;IACFC,EAAE,EAAEyB,CAAC,GAAG1B,EAAJ,GAAS4B,CADX;IAEN1B,EAAE,EAAFA,EAFM;IAEFC,EAAE,EAAEuB,CAAC,GAAGxB,EAAJ,GAAS0B;EAFX,CAAP;AAIA;;AAED,SAASY,kBAAT,QAEG;EAAA,IADFlB,KACE,SADFA,KACE;EAAA,IADKC,GACL,SADKA,GACL;;EAEF,4BAAiBD,KAAjB;EAAA,IAAOtB,EAAP;EAAA,IAAWC,EAAX;;EACA,0BAAiBsB,GAAjB;EAAA,IAAOrB,EAAP;EAAA,IAAWC,EAAX;;EACA,IAAIoB,GAAG,CAAC,CAAD,CAAH,KAAWD,KAAK,CAAC,CAAD,CAApB,EAAyB;IACxB,OAAO;MACNtB,EAAE,EAAFA,EADM;MAENC,EAAE,EAAEqB,KAAK,CAAC,CAAD,CAFH;MAGNpB,EAAE,EAAEF,EAHE;MAING,EAAE,EAAEoB,GAAG,CAAC,CAAD;IAJD,CAAP;EAMA;;EAED,OAAO;IACNvB,EAAE,EAAFA,EADM;IACFC,EAAE,EAAFA,EADE;IAENC,EAAE,EAAFA,EAFM;IAEFC,EAAE,EAAFA;EAFE,CAAP;AAIA;;AAED9B,YAAY,CAACyE,SAAb,GAAyB;EACxB/D,OAAO,EAAEgE,qBAAA,CAAUC,GAAV,CAAcC,UADC;EAExBjE,OAAO,EAAE+D,qBAAA,CAAUC,GAAV,CAAcC,UAFC;EAGxBhE,OAAO,EAAE8D,qBAAA,CAAUC,GAAV,CAAcC,UAHC;EAIxB/D,OAAO,EAAE6D,qBAAA,CAAUC,GAAV,CAAcC,UAJC;EAMxBnC,sBAAsB,EAAEiC,qBAAA,CAAUG,MANV;EAOxBvD,MAAM,EAAEoD,qBAAA,CAAUG,MAAV,CAAiBD,UAPD;EAQxBrD,WAAW,EAAEmD,qBAAA,CAAUI,MAAV,CAAiBF,UARN;EASxBpD,aAAa,EAAEkD,qBAAA,CAAUI,MAAV,CAAiBF,UATR;EAUxBnD,eAAe,EAAEiD,qBAAA,CAAUK,KAAV,CAAgBC,sBAAhB,CAVO;EAYxBlE,IAAI,EAAE4D,qBAAA,CAAUK,KAAV,CAAgB,CACrB,OADqB,EACZ;EACT,KAFqB,EAEd;EACP,MAHqB,CAGb;EAHa,CAAhB,EAIHH,UAhBqB;EAkBxBK,WAAW,EAAEP,qBAAA,CAAUQ,IAAV,CAAeN,UAlBJ;EAmBxBO,WAAW,EAAET,qBAAA,CAAUQ,IAAV,CAAeN,UAnBJ;EAoBxBlC,WAAW,EAAEgC,qBAAA,CAAUQ,IAAV,CAAeN,UApBJ;EAqBxBjC,MAAM,EAAE+B,qBAAA,CAAUQ,IAAV,CAAeN,UArBC;EAsBxBhC,cAAc,EAAE8B,qBAAA,CAAUQ,IAAV,CAAeN,UAtBP;EAuBxBpE,OAAO,EAAEkE,qBAAA,CAAUQ,IAvBK;EAwBxBrC,SAAS,EAAE6B,qBAAA,CAAUQ,IAxBG;EA0BxBE,gBAAgB,EAAEV,qBAAA,CAAUG,MA1BJ;EA4BxBQ,CAAC,EAAEX,qBAAA,CAAUI,MAAV,CAAiBF,UA5BI;EA6BxBU,QAAQ,EAAEZ,qBAAA,CAAUG,MAAV,CAAiBD,UA7BH;EA8BxBW,UAAU,EAAEb,qBAAA,CAAUG,MAAV,CAAiBD,UA9BL;EA+BxBY,eAAe,EAAEd,qBAAA,CAAUI,MAAV,CAAiBF,UA/BV;EAgCxBa,QAAQ,EAAEf,qBAAA,CAAUgB,IAAV,CAAed,UAhCD;EAiCxBe,QAAQ,EAAEjB,qBAAA,CAAUQ,IAAV,CAAeN,UAjCD;EAkCxBrE,SAAS,EAAEmE,qBAAA,CAAUI,MAAV,CAAiBF,UAlCJ;EAmCxBpC,QAAQ,EAAEkC,qBAAA,CAAUgB,IAAV,CAAed;AAnCD,CAAzB;AAsCA5E,YAAY,CAAC4F,YAAb,GAA4B;EAC3BX,WAAW,EAAEY,WADc;EAE3BV,WAAW,EAAEU,WAFc;EAG3BnD,WAAW,EAAEmD,WAHc;EAI3BlD,MAAM,EAAEkD,WAJmB;EAK3BjD,cAAc,EAAEiD,WALW;EAO3BL,eAAe,EAAE,CAPU;EAQ3BD,UAAU,EAAE,SARe;EAS3BD,QAAQ,EAAE,SATiB;EAU3BD,CAAC,EAAE,EAVwB;EAW3BI,QAAQ,EAAE,KAXiB;EAY3BlE,WAAW,EAAE,CAZc;EAa3BE,eAAe,EAAE,OAbU;EAc3BkE,QAAQ,EAAEE,WAdiB;EAe3BtF,SAAS,EAAE,CAfgB;EAgB3BiC,QAAQ,EAAE;AAhBiB,CAA5B;eAmBexC,Y"}