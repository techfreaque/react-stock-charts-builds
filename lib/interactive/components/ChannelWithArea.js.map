{"version":3,"file":"ChannelWithArea.js","names":["ChannelWithArea","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","isDefined","helper","lines","line1","line2","mouseXY","xScale","yScale","chartConfig","line1Hovering","isHovering","x1Value","x1","y1Value","y1","x2Value","x2","y2Value","y2","type","line2Hovering","ctx","stroke","strokeWidth","fillOpacity","strokeOpacity","fill","lineWidth","strokeStyle","hexToRGBA","beginPath","moveTo","lineTo","line2Y1","line2Y2","fillStyle","closePath","line","area","getPath","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","getMouseCanvas","Component","d3Path","toString","getLines","startXY","endXY","dy","isNotDefined","generateLine","start","end","undefined","propTypes","PropTypes","string","isRequired","number","oneOf","func","defaultClassName","bool","defaultProps","noop"],"sources":["../../../../src/lib/interactive/components/ChannelWithArea.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { path as d3Path } from \"d3-path\";\r\n\r\nimport GenericChartComponent from \"../../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../../GenericComponent\";\r\nimport { generateLine, isHovering } from \"./StraightLine\";\r\n\r\nimport { isDefined, isNotDefined, noop, hexToRGBA } from \"../../utils\";\r\n\r\nclass ChannelWithArea extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t\tthis.isHover = this.isHover.bind(this);\r\n\t}\r\n\tisHover(moreProps) {\r\n\t\tconst { tolerance, onHover } = this.props;\r\n\r\n\t\tif (isDefined(onHover)) {\r\n\r\n\t\t\tconst { lines, line1, line2 } = helper(this.props, moreProps);\r\n\r\n\t\t\tif (isDefined(line1) && isDefined(line2)) {\r\n\t\t\t\tconst { mouseXY, xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\t\t\t\tconst line1Hovering = isHovering({\r\n\t\t\t\t\tx1Value: lines.line1.x1,\r\n\t\t\t\t\ty1Value: lines.line1.y1,\r\n\t\t\t\t\tx2Value: lines.line1.x2,\r\n\t\t\t\t\ty2Value: lines.line1.y2,\r\n\t\t\t\t\ttype: \"LINE\",\r\n\t\t\t\t\tmouseXY,\r\n\t\t\t\t\ttolerance,\r\n\t\t\t\t\txScale,\r\n\t\t\t\t\tyScale,\r\n\t\t\t\t});\r\n\t\t\t\tconst line2Hovering = isHovering({\r\n\t\t\t\t\tx1Value: lines.line2.x1,\r\n\t\t\t\t\ty1Value: lines.line2.y1,\r\n\t\t\t\t\tx2Value: lines.line2.x2,\r\n\t\t\t\t\ty2Value: lines.line2.y2,\r\n\t\t\t\t\ttype: \"LINE\",\r\n\t\t\t\t\tmouseXY,\r\n\t\t\t\t\ttolerance,\r\n\t\t\t\t\txScale,\r\n\t\t\t\t\tyScale,\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn line1Hovering || line2Hovering;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst { stroke, strokeWidth, fillOpacity, strokeOpacity, fill } = this.props;\r\n\t\tconst { line1, line2 } = helper(this.props, moreProps);\r\n\r\n\t\tif (isDefined(line1)) {\r\n\t\t\tconst { x1, y1, x2, y2 } = line1;\r\n\r\n\t\t\tctx.lineWidth = strokeWidth;\r\n\t\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\r\n\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x2, y2);\r\n\t\t\tctx.stroke();\r\n\t\t\tif (isDefined(line2)) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\ty1: line2Y1,\r\n\t\t\t\t\ty2: line2Y2\r\n\t\t\t\t} = line2;\r\n\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(x1, line2Y1);\r\n\t\t\t\tctx.lineTo(x2, line2Y2);\r\n\t\t\t\tctx.stroke();\r\n\r\n\t\t\t\tctx.fillStyle = hexToRGBA(fill, fillOpacity);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(x1, y1);\r\n\r\n\t\t\t\tctx.lineTo(x2, y2);\r\n\t\t\t\tctx.lineTo(x2, line2Y2);\r\n\t\t\t\tctx.lineTo(x1, line2Y1);\r\n\r\n\t\t\t\tctx.closePath();\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { stroke, strokeWidth, fillOpacity, fill, strokeOpacity } = this.props;\r\n\t\tconst { line1, line2 } = helper(this.props, moreProps);\r\n\r\n\t\tif (isDefined(line1)) {\r\n\t\t\tconst { x1, y1, x2, y2 } = line1;\r\n\t\t\tconst line = isDefined(line2)\r\n\t\t\t\t? <line\r\n\t\t\t\t\tstrokeWidth={strokeWidth}\r\n\t\t\t\t\tstroke={stroke}\r\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\r\n\t\t\t\t\tx1={x1}\r\n\t\t\t\t\ty1={line2.y1}\r\n\t\t\t\t\tx2={x2}\r\n\t\t\t\t\ty2={line2.y2}\r\n\t\t\t\t/>\r\n\t\t\t\t: null;\r\n\t\t\tconst area = isDefined(line2)\r\n\t\t\t\t? <path\r\n\t\t\t\t\tfillRule={fill}\r\n\t\t\t\t\tfillOpacity={fillOpacity}\r\n\t\t\t\t\td={getPath(line1, line2)}\r\n\t\t\t\t/>\r\n\t\t\t\t: null;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<line\r\n\t\t\t\t\t\tstrokeWidth={strokeWidth}\r\n\t\t\t\t\t\tstroke={stroke}\r\n\t\t\t\t\t\tstrokeOpacity={strokeOpacity}\r\n\t\t\t\t\t\tx1={x1}\r\n\t\t\t\t\t\ty1={y1}\r\n\t\t\t\t\t\tx2={x2}\r\n\t\t\t\t\t\ty2={y2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{line}\r\n\t\t\t\t\t{area}\r\n\t\t\t\t</g>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { selected, interactiveCursorClass } = this.props;\r\n\t\tconst { onDragStart, onDrag, onDragComplete, onHover, onUnHover } = this.props;\r\n\r\n\t\treturn <GenericChartComponent\r\n\t\t\tisHover={this.isHover}\r\n\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\r\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\r\n\t\t\tselected={selected}\r\n\r\n\t\t\tonDragStart={onDragStart}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragComplete={onDragComplete}\r\n\t\t\tonHover={onHover}\r\n\t\t\tonUnHover={onUnHover}\r\n\r\n\t\t\tdrawOn={[\"mousemove\", \"mouseleave\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\nfunction getPath(line1, line2) {\r\n\tconst ctx = d3Path();\r\n\tctx.moveTo(line1.x1, line1.y1);\r\n\tctx.lineTo(line1.x2, line1.y2);\r\n\tctx.lineTo(line1.x2, line2.y2);\r\n\tctx.lineTo(line1.x1, line2.y1);\r\n\r\n\tctx.closePath();\r\n\treturn ctx.toString();\r\n}\r\n\r\nfunction getLines(props, moreProps) {\r\n\tconst { startXY, endXY, dy, type } = props;\r\n\tconst { xScale } = moreProps;\r\n\r\n\tif (isNotDefined(startXY) || isNotDefined(endXY)) {\r\n\t\treturn {};\r\n\t}\r\n\tconst line1 = generateLine({\r\n\t\ttype,\r\n\t\tstart: startXY,\r\n\t\tend: endXY,\r\n\t\txScale,\r\n\t});\r\n\tconst line2 = isDefined(dy)\r\n\t\t? {\r\n\t\t\t...line1,\r\n\t\t\ty1: line1.y1 + dy,\r\n\t\t\ty2: line1.y2 + dy,\r\n\t\t}\r\n\t\t: undefined;\r\n\r\n\r\n\treturn {\r\n\t\tline1,\r\n\t\tline2,\r\n\t};\r\n}\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst lines = getLines(props, moreProps);\r\n\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\tconst x1 = xScale(lines.line1.x1);\r\n\tconst y1 = yScale(lines.line1.y1);\r\n\tconst x2 = xScale(lines.line1.x2);\r\n\tconst y2 = yScale(lines.line1.y2);\r\n\r\n\tconst line2 = isDefined(lines.line2)\r\n\t\t? {\r\n\t\t\tx1,\r\n\t\t\ty1: yScale(lines.line2.y1),\r\n\t\t\tx2,\r\n\t\t\ty2: yScale(lines.line2.y2),\r\n\t\t}\r\n\t\t: undefined;\r\n\r\n\treturn {\r\n\t\tlines,\r\n\t\tline1: {\r\n\t\t\tx1, y1, x2, y2\r\n\t\t},\r\n\t\tline2\r\n\t};\r\n}\r\n\r\nChannelWithArea.propTypes = {\r\n\tinteractiveCursorClass: PropTypes.string,\r\n\tstroke: PropTypes.string.isRequired,\r\n\tstrokeWidth: PropTypes.number.isRequired,\r\n\tfill: PropTypes.string.isRequired,\r\n\tfillOpacity: PropTypes.number.isRequired,\r\n\tstrokeOpacity: PropTypes.number.isRequired,\r\n\r\n\ttype: PropTypes.oneOf([\r\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\r\n\t\t\"RAY\", // extends to +/-Infinity in one direction\r\n\t\t\"LINE\", // extends between the set bounds\r\n\t]).isRequired,\r\n\r\n\tonDragStart: PropTypes.func.isRequired,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n\tonHover: PropTypes.func,\r\n\tonUnHover: PropTypes.func,\r\n\r\n\tdefaultClassName: PropTypes.string,\r\n\r\n\ttolerance: PropTypes.number.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n};\r\n\r\nChannelWithArea.defaultProps = {\r\n\tonDragStart: noop,\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\ttype: \"LINE\",\r\n\r\n\tstrokeWidth: 1,\r\n\ttolerance: 4,\r\n\tselected: false,\r\n};\r\n\r\nexport default ChannelWithArea;"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMA,e;;;;;EACL,yBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IAClB,0BAAMA,KAAN;IAEA,MAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB;IACA,MAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB;IACA,MAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,+BAAf;IALkB;EAMlB;;;;WACD,iBAAQG,SAAR,EAAmB;MAClB,kBAA+B,KAAKL,KAApC;MAAA,IAAQM,SAAR,eAAQA,SAAR;MAAA,IAAmBC,OAAnB,eAAmBA,OAAnB;;MAEA,IAAI,IAAAC,gBAAA,EAAUD,OAAV,CAAJ,EAAwB;QAEvB,cAAgCE,MAAM,CAAC,KAAKT,KAAN,EAAaK,SAAb,CAAtC;QAAA,IAAQK,KAAR,WAAQA,KAAR;QAAA,IAAeC,KAAf,WAAeA,KAAf;QAAA,IAAsBC,KAAtB,WAAsBA,KAAtB;;QAEA,IAAI,IAAAJ,gBAAA,EAAUG,KAAV,KAAoB,IAAAH,gBAAA,EAAUI,KAAV,CAAxB,EAA0C;UACzC,IAAQC,OAAR,GAAqDR,SAArD,CAAQQ,OAAR;UAAA,IAAiBC,MAAjB,GAAqDT,SAArD,CAAiBS,MAAjB;UAAA,IAAwCC,MAAxC,GAAqDV,SAArD,CAAyBW,WAAzB,CAAwCD,MAAxC;UAEA,IAAME,aAAa,GAAG,IAAAC,wBAAA,EAAW;YAChCC,OAAO,EAAET,KAAK,CAACC,KAAN,CAAYS,EADW;YAEhCC,OAAO,EAAEX,KAAK,CAACC,KAAN,CAAYW,EAFW;YAGhCC,OAAO,EAAEb,KAAK,CAACC,KAAN,CAAYa,EAHW;YAIhCC,OAAO,EAAEf,KAAK,CAACC,KAAN,CAAYe,EAJW;YAKhCC,IAAI,EAAE,MAL0B;YAMhCd,OAAO,EAAPA,OANgC;YAOhCP,SAAS,EAATA,SAPgC;YAQhCQ,MAAM,EAANA,MARgC;YAShCC,MAAM,EAANA;UATgC,CAAX,CAAtB;UAWA,IAAMa,aAAa,GAAG,IAAAV,wBAAA,EAAW;YAChCC,OAAO,EAAET,KAAK,CAACE,KAAN,CAAYQ,EADW;YAEhCC,OAAO,EAAEX,KAAK,CAACE,KAAN,CAAYU,EAFW;YAGhCC,OAAO,EAAEb,KAAK,CAACE,KAAN,CAAYY,EAHW;YAIhCC,OAAO,EAAEf,KAAK,CAACE,KAAN,CAAYc,EAJW;YAKhCC,IAAI,EAAE,MAL0B;YAMhCd,OAAO,EAAPA,OANgC;YAOhCP,SAAS,EAATA,SAPgC;YAQhCQ,MAAM,EAANA,MARgC;YAShCC,MAAM,EAANA;UATgC,CAAX,CAAtB;UAYA,OAAOE,aAAa,IAAIW,aAAxB;QACA;MACD;;MACD,OAAO,KAAP;IACA;;;WACD,sBAAaC,GAAb,EAAkBxB,SAAlB,EAA6B;MAC5B,mBAAkE,KAAKL,KAAvE;MAAA,IAAQ8B,MAAR,gBAAQA,MAAR;MAAA,IAAgBC,WAAhB,gBAAgBA,WAAhB;MAAA,IAA6BC,WAA7B,gBAA6BA,WAA7B;MAAA,IAA0CC,aAA1C,gBAA0CA,aAA1C;MAAA,IAAyDC,IAAzD,gBAAyDA,IAAzD;;MACA,eAAyBzB,MAAM,CAAC,KAAKT,KAAN,EAAaK,SAAb,CAA/B;MAAA,IAAQM,KAAR,YAAQA,KAAR;MAAA,IAAeC,KAAf,YAAeA,KAAf;;MAEA,IAAI,IAAAJ,gBAAA,EAAUG,KAAV,CAAJ,EAAsB;QACrB,IAAQS,EAAR,GAA2BT,KAA3B,CAAQS,EAAR;QAAA,IAAYE,EAAZ,GAA2BX,KAA3B,CAAYW,EAAZ;QAAA,IAAgBE,EAAhB,GAA2Bb,KAA3B,CAAgBa,EAAhB;QAAA,IAAoBE,EAApB,GAA2Bf,KAA3B,CAAoBe,EAApB;QAEAG,GAAG,CAACM,SAAJ,GAAgBJ,WAAhB;QACAF,GAAG,CAACO,WAAJ,GAAkB,IAAAC,gBAAA,EAAUP,MAAV,EAAkBG,aAAlB,CAAlB;QAEAJ,GAAG,CAACS,SAAJ;QACAT,GAAG,CAACU,MAAJ,CAAWnB,EAAX,EAAeE,EAAf;QACAO,GAAG,CAACW,MAAJ,CAAWhB,EAAX,EAAeE,EAAf;QACAG,GAAG,CAACC,MAAJ;;QACA,IAAI,IAAAtB,gBAAA,EAAUI,KAAV,CAAJ,EAAsB;UACrB,IACK6B,OADL,GAGI7B,KAHJ,CACCU,EADD;UAAA,IAEKoB,OAFL,GAGI9B,KAHJ,CAECc,EAFD;UAKAG,GAAG,CAACS,SAAJ;UACAT,GAAG,CAACU,MAAJ,CAAWnB,EAAX,EAAeqB,OAAf;UACAZ,GAAG,CAACW,MAAJ,CAAWhB,EAAX,EAAekB,OAAf;UACAb,GAAG,CAACC,MAAJ;UAEAD,GAAG,CAACc,SAAJ,GAAgB,IAAAN,gBAAA,EAAUH,IAAV,EAAgBF,WAAhB,CAAhB;UACAH,GAAG,CAACS,SAAJ;UACAT,GAAG,CAACU,MAAJ,CAAWnB,EAAX,EAAeE,EAAf;UAEAO,GAAG,CAACW,MAAJ,CAAWhB,EAAX,EAAeE,EAAf;UACAG,GAAG,CAACW,MAAJ,CAAWhB,EAAX,EAAekB,OAAf;UACAb,GAAG,CAACW,MAAJ,CAAWpB,EAAX,EAAeqB,OAAf;UAEAZ,GAAG,CAACe,SAAJ;UACAf,GAAG,CAACK,IAAJ;QACA;MACD;IACD;;;WACD,mBAAU7B,SAAV,EAAqB;MACpB,mBAAkE,KAAKL,KAAvE;MAAA,IAAQ8B,MAAR,gBAAQA,MAAR;MAAA,IAAgBC,WAAhB,gBAAgBA,WAAhB;MAAA,IAA6BC,WAA7B,gBAA6BA,WAA7B;MAAA,IAA0CE,IAA1C,gBAA0CA,IAA1C;MAAA,IAAgDD,aAAhD,gBAAgDA,aAAhD;;MACA,eAAyBxB,MAAM,CAAC,KAAKT,KAAN,EAAaK,SAAb,CAA/B;MAAA,IAAQM,KAAR,YAAQA,KAAR;MAAA,IAAeC,KAAf,YAAeA,KAAf;;MAEA,IAAI,IAAAJ,gBAAA,EAAUG,KAAV,CAAJ,EAAsB;QACrB,IAAQS,EAAR,GAA2BT,KAA3B,CAAQS,EAAR;QAAA,IAAYE,EAAZ,GAA2BX,KAA3B,CAAYW,EAAZ;QAAA,IAAgBE,EAAhB,GAA2Bb,KAA3B,CAAgBa,EAAhB;QAAA,IAAoBE,EAApB,GAA2Bf,KAA3B,CAAoBe,EAApB;QACA,IAAMmB,IAAI,GAAG,IAAArC,gBAAA,EAAUI,KAAV,iBACV;UACD,WAAW,EAAEmB,WADZ;UAED,MAAM,EAAED,MAFP;UAGD,aAAa,EAAEG,aAHd;UAID,EAAE,EAAEb,EAJH;UAKD,EAAE,EAAER,KAAK,CAACU,EALT;UAMD,EAAE,EAAEE,EANH;UAOD,EAAE,EAAEZ,KAAK,CAACc;QAPT,EADU,GAUV,IAVH;QAWA,IAAMoB,IAAI,GAAG,IAAAtC,gBAAA,EAAUI,KAAV,iBACV;UACD,QAAQ,EAAEsB,IADT;UAED,WAAW,EAAEF,WAFZ;UAGD,CAAC,EAAEe,OAAO,CAACpC,KAAD,EAAQC,KAAR;QAHT,EADU,GAMV,IANH;QAQA,oBACC,wDACC;UACC,WAAW,EAAEmB,WADd;UAEC,MAAM,EAAED,MAFT;UAGC,aAAa,EAAEG,aAHhB;UAIC,EAAE,EAAEb,EAJL;UAKC,EAAE,EAAEE,EALL;UAMC,EAAE,EAAEE,EANL;UAOC,EAAE,EAAEE;QAPL,EADD,EAUEmB,IAVF,EAWEC,IAXF,CADD;MAeA;IACD;;;WACD,kBAAS;MACR,mBAA6C,KAAK9C,KAAlD;MAAA,IAAQgD,QAAR,gBAAQA,QAAR;MAAA,IAAkBC,sBAAlB,gBAAkBA,sBAAlB;MACA,mBAAoE,KAAKjD,KAAzE;MAAA,IAAQkD,WAAR,gBAAQA,WAAR;MAAA,IAAqBC,MAArB,gBAAqBA,MAArB;MAAA,IAA6BC,cAA7B,gBAA6BA,cAA7B;MAAA,IAA6C7C,OAA7C,gBAA6CA,OAA7C;MAAA,IAAsD8C,SAAtD,gBAAsDA,SAAtD;MAEA,oBAAO,gCAAC,iCAAD;QACN,OAAO,EAAE,KAAKjD,OADR;QAGN,OAAO,EAAE,KAAKH,SAHR;QAIN,YAAY,EAAEqD,gCAJR;QAKN,UAAU,EAAE,KAAKnD,YALX;QAON,sBAAsB,EAAE8C,sBAPlB;QAQN,QAAQ,EAAED,QARJ;QAUN,WAAW,EAAEE,WAVP;QAWN,MAAM,EAAEC,MAXF;QAYN,cAAc,EAAEC,cAZV;QAaN,OAAO,EAAE7C,OAbH;QAcN,SAAS,EAAE8C,SAdL;QAgBN,MAAM,EAAE,CAAC,WAAD,EAAc,YAAd,EAA4B,KAA5B,EAAmC,MAAnC;MAhBF,EAAP;IAkBA;;;;EApJ4BE,gB;;AAsJ9B,SAASR,OAAT,CAAiBpC,KAAjB,EAAwBC,KAAxB,EAA+B;EAC9B,IAAMiB,GAAG,GAAG,IAAA2B,YAAA,GAAZ;EACA3B,GAAG,CAACU,MAAJ,CAAW5B,KAAK,CAACS,EAAjB,EAAqBT,KAAK,CAACW,EAA3B;EACAO,GAAG,CAACW,MAAJ,CAAW7B,KAAK,CAACa,EAAjB,EAAqBb,KAAK,CAACe,EAA3B;EACAG,GAAG,CAACW,MAAJ,CAAW7B,KAAK,CAACa,EAAjB,EAAqBZ,KAAK,CAACc,EAA3B;EACAG,GAAG,CAACW,MAAJ,CAAW7B,KAAK,CAACS,EAAjB,EAAqBR,KAAK,CAACU,EAA3B;EAEAO,GAAG,CAACe,SAAJ;EACA,OAAOf,GAAG,CAAC4B,QAAJ,EAAP;AACA;;AAED,SAASC,QAAT,CAAkB1D,KAAlB,EAAyBK,SAAzB,EAAoC;EACnC,IAAQsD,OAAR,GAAqC3D,KAArC,CAAQ2D,OAAR;EAAA,IAAiBC,KAAjB,GAAqC5D,KAArC,CAAiB4D,KAAjB;EAAA,IAAwBC,EAAxB,GAAqC7D,KAArC,CAAwB6D,EAAxB;EAAA,IAA4BlC,IAA5B,GAAqC3B,KAArC,CAA4B2B,IAA5B;EACA,IAAQb,MAAR,GAAmBT,SAAnB,CAAQS,MAAR;;EAEA,IAAI,IAAAgD,mBAAA,EAAaH,OAAb,KAAyB,IAAAG,mBAAA,EAAaF,KAAb,CAA7B,EAAkD;IACjD,OAAO,EAAP;EACA;;EACD,IAAMjD,KAAK,GAAG,IAAAoD,0BAAA,EAAa;IAC1BpC,IAAI,EAAJA,IAD0B;IAE1BqC,KAAK,EAAEL,OAFmB;IAG1BM,GAAG,EAAEL,KAHqB;IAI1B9C,MAAM,EAANA;EAJ0B,CAAb,CAAd;EAMA,IAAMF,KAAK,GAAG,IAAAJ,gBAAA,EAAUqD,EAAV,oCAETlD,KAFS;IAGZW,EAAE,EAAEX,KAAK,CAACW,EAAN,GAAWuC,EAHH;IAIZnC,EAAE,EAAEf,KAAK,CAACe,EAAN,GAAWmC;EAJH,KAMXK,SANH;EASA,OAAO;IACNvD,KAAK,EAALA,KADM;IAENC,KAAK,EAALA;EAFM,CAAP;AAIA;;AAED,SAASH,MAAT,CAAgBT,KAAhB,EAAuBK,SAAvB,EAAkC;EACjC,IAAMK,KAAK,GAAGgD,QAAQ,CAAC1D,KAAD,EAAQK,SAAR,CAAtB;EACA,IAAQS,MAAR,GAA4CT,SAA5C,CAAQS,MAAR;EAAA,IAA+BC,MAA/B,GAA4CV,SAA5C,CAAgBW,WAAhB,CAA+BD,MAA/B;EAEA,IAAMK,EAAE,GAAGN,MAAM,CAACJ,KAAK,CAACC,KAAN,CAAYS,EAAb,CAAjB;EACA,IAAME,EAAE,GAAGP,MAAM,CAACL,KAAK,CAACC,KAAN,CAAYW,EAAb,CAAjB;EACA,IAAME,EAAE,GAAGV,MAAM,CAACJ,KAAK,CAACC,KAAN,CAAYa,EAAb,CAAjB;EACA,IAAME,EAAE,GAAGX,MAAM,CAACL,KAAK,CAACC,KAAN,CAAYe,EAAb,CAAjB;EAEA,IAAMd,KAAK,GAAG,IAAAJ,gBAAA,EAAUE,KAAK,CAACE,KAAhB,IACX;IACDQ,EAAE,EAAFA,EADC;IAEDE,EAAE,EAAEP,MAAM,CAACL,KAAK,CAACE,KAAN,CAAYU,EAAb,CAFT;IAGDE,EAAE,EAAFA,EAHC;IAIDE,EAAE,EAAEX,MAAM,CAACL,KAAK,CAACE,KAAN,CAAYc,EAAb;EAJT,CADW,GAOXwC,SAPH;EASA,OAAO;IACNxD,KAAK,EAALA,KADM;IAENC,KAAK,EAAE;MACNS,EAAE,EAAFA,EADM;MACFE,EAAE,EAAFA,EADE;MACEE,EAAE,EAAFA,EADF;MACME,EAAE,EAAFA;IADN,CAFD;IAKNd,KAAK,EAALA;EALM,CAAP;AAOA;;AAEDb,eAAe,CAACoE,SAAhB,GAA4B;EAC3BlB,sBAAsB,EAAEmB,qBAAA,CAAUC,MADP;EAE3BvC,MAAM,EAAEsC,qBAAA,CAAUC,MAAV,CAAiBC,UAFE;EAG3BvC,WAAW,EAAEqC,qBAAA,CAAUG,MAAV,CAAiBD,UAHH;EAI3BpC,IAAI,EAAEkC,qBAAA,CAAUC,MAAV,CAAiBC,UAJI;EAK3BtC,WAAW,EAAEoC,qBAAA,CAAUG,MAAV,CAAiBD,UALH;EAM3BrC,aAAa,EAAEmC,qBAAA,CAAUG,MAAV,CAAiBD,UANL;EAQ3B3C,IAAI,EAAEyC,qBAAA,CAAUI,KAAV,CAAgB,CACrB,OADqB,EACZ;EACT,KAFqB,EAEd;EACP,MAHqB,CAGb;EAHa,CAAhB,EAIHF,UAZwB;EAc3BpB,WAAW,EAAEkB,qBAAA,CAAUK,IAAV,CAAeH,UAdD;EAe3BnB,MAAM,EAAEiB,qBAAA,CAAUK,IAAV,CAAeH,UAfI;EAgB3BlB,cAAc,EAAEgB,qBAAA,CAAUK,IAAV,CAAeH,UAhBJ;EAiB3B/D,OAAO,EAAE6D,qBAAA,CAAUK,IAjBQ;EAkB3BpB,SAAS,EAAEe,qBAAA,CAAUK,IAlBM;EAoB3BC,gBAAgB,EAAEN,qBAAA,CAAUC,MApBD;EAsB3B/D,SAAS,EAAE8D,qBAAA,CAAUG,MAAV,CAAiBD,UAtBD;EAuB3BtB,QAAQ,EAAEoB,qBAAA,CAAUO,IAAV,CAAeL;AAvBE,CAA5B;AA0BAvE,eAAe,CAAC6E,YAAhB,GAA+B;EAC9B1B,WAAW,EAAE2B,WADiB;EAE9B1B,MAAM,EAAE0B,WAFsB;EAG9BzB,cAAc,EAAEyB,WAHc;EAI9BlD,IAAI,EAAE,MAJwB;EAM9BI,WAAW,EAAE,CANiB;EAO9BzB,SAAS,EAAE,CAPmB;EAQ9B0C,QAAQ,EAAE;AARoB,CAA/B;eAWejD,e"}