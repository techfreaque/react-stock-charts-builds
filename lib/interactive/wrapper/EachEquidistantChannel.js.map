{"version":3,"file":"EachEquidistantChannel.js","names":["EachEquidistantChannel","props","handleLine1Edge1Drag","bind","handleLine1Edge2Drag","handleDragStart","handleChannelDrag","handleChannelHeightChange","getEdgeCircle","handleHover","isHover","saveNodeType","nodes","state","hover","moreProps","hovering","setState","startXY","endXY","dy","dragStart","index","onDrag","xScale","yScale","chartConfig","xAccessor","fullData","startPos","mouseXY","x1","y1","x2","y2","dx","newX1Value","getXValue","newY1Value","invert","newX2Value","newY2Value","newDy","xy","dragHandler","cursor","fill","edge","appearance","edgeStroke","edgeStrokeWidth","r","selected","onDragComplete","interactive","hoverText","edgeFill","edgeFill2","stroke","strokeWidth","strokeOpacity","fillOpacity","hoverTextEnabled","enable","restHoverTextProps","hoverHandler","onHover","onUnHover","line1Edge","isDefined","line2Edge","Component","propTypes","PropTypes","arrayOf","number","isRequired","bool","object","shape","string","func","defaultProps","yDisplayFormat","d","toFixed","noop"],"sources":["../../../../src/lib/interactive/wrapper/EachEquidistantChannel.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { isDefined, noop } from \"../../utils\";\r\nimport { getXValue } from \"../../utils/ChartDataUtil\";\r\nimport { saveNodeType, isHover } from \"../utils\";\r\n\r\nimport ClickableCircle from \"../components/ClickableCircle\";\r\nimport ChannelWithArea from \"../components/ChannelWithArea\";\r\nimport HoverTextNearMouse from \"../components/HoverTextNearMouse\";\r\n\r\nclass EachEquidistantChannel extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleLine1Edge1Drag = this.handleLine1Edge1Drag.bind(this);\r\n\t\tthis.handleLine1Edge2Drag = this.handleLine1Edge2Drag.bind(this);\r\n\r\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\r\n\t\tthis.handleChannelDrag = this.handleChannelDrag.bind(this);\r\n\r\n\t\tthis.handleChannelHeightChange = this.handleChannelHeightChange.bind(this);\r\n\r\n\t\tthis.getEdgeCircle = this.getEdgeCircle.bind(this);\r\n\t\tthis.handleHover = this.handleHover.bind(this);\r\n\r\n\t\tthis.isHover = isHover.bind(this);\r\n\t\tthis.saveNodeType = saveNodeType.bind(this);\r\n\t\tthis.nodes = {};\r\n\r\n\t\tthis.state = {\r\n\t\t\thover: false,\r\n\t\t};\r\n\t}\r\n\thandleHover(moreProps) {\r\n\t\tif (this.state.hover !== moreProps.hovering) {\r\n\t\t\tthis.setState({\r\n\t\t\t\thover: moreProps.hovering\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleDragStart() {\r\n\t\tconst {\r\n\t\t\tstartXY, endXY, dy,\r\n\t\t} = this.props;\r\n\r\n\t\tthis.dragStart = {\r\n\t\t\tstartXY, endXY, dy,\r\n\t\t};\r\n\t}\r\n\thandleChannelDrag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tstartXY, endXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst { xScale, chartConfig: { yScale }, xAccessor, fullData } = moreProps;\r\n\t\tconst { startPos, mouseXY } = moreProps;\r\n\r\n\t\tconst x1 = xScale(startXY[0]);\r\n\t\tconst y1 = yScale(startXY[1]);\r\n\t\tconst x2 = xScale(endXY[0]);\r\n\t\tconst y2 = yScale(endXY[1]);\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\t\tconst newX2Value = getXValue(xScale, xAccessor, [x2 - dx, y2 - dy], fullData);\r\n\t\tconst newY2Value = yScale.invert(y2 - dy);\r\n\r\n\t\t// const newDy = newY2Value - endXY[1] + this.dragStart.dy;\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: [newX1Value, newY1Value],\r\n\t\t\tendXY: [newX2Value, newY2Value],\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleLine1Edge1Drag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\t\tconst {\r\n\t\t\tstartXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst {\r\n\t\t\tstartPos, mouseXY, xAccessor,\r\n\t\t\txScale, fullData,\r\n\t\t\tchartConfig: { yScale }\r\n\t\t} = moreProps;\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst x1 = xScale(startXY[0]);\r\n\t\tconst y1 = yScale(startXY[1]);\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: [newX1Value, newY1Value],\r\n\t\t\tendXY: this.dragStart.endXY,\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleLine1Edge2Drag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\t\tconst {\r\n\t\t\tendXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst {\r\n\t\t\tstartPos, mouseXY, xAccessor,\r\n\t\t\txScale, fullData,\r\n\t\t\tchartConfig: { yScale }\r\n\t\t} = moreProps;\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst x1 = xScale(endXY[0]);\r\n\t\tconst y1 = yScale(endXY[1]);\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: this.dragStart.startXY,\r\n\t\t\tendXY: [newX1Value, newY1Value],\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleChannelHeightChange(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tstartXY, endXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\t\tconst { startPos, mouseXY } = moreProps;\r\n\r\n\t\tconst y2 = yScale(endXY[1]);\r\n\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst newY2Value = yScale.invert(y2 - dy);\r\n\r\n\t\tconst newDy = newY2Value - endXY[1] + this.dragStart.dy;\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY,\r\n\t\t\tendXY,\r\n\t\t\tdy: newDy,\r\n\t\t});\r\n\t}\r\n\tgetEdgeCircle({ xy, dragHandler, cursor, fill, edge }) {\r\n\t\tconst { hover } = this.state;\r\n\t\tconst { appearance } = this.props;\r\n\t\tconst { edgeStroke, edgeStrokeWidth, r } = appearance;\r\n\t\tconst { selected } = this.props;\r\n\t\tconst { onDragComplete } = this.props;\r\n\r\n\t\treturn <ClickableCircle\r\n\t\t\tref={this.saveNodeType(edge)}\r\n\r\n\t\t\tshow={selected || hover}\r\n\t\t\tcx={xy[0]}\r\n\t\t\tcy={xy[1]}\r\n\t\t\tr={r}\r\n\t\t\tfill={fill}\r\n\t\t\tstroke={edgeStroke}\r\n\t\t\tstrokeWidth={edgeStrokeWidth}\r\n\t\t\tinteractiveCursorClass={cursor}\r\n\r\n\t\t\tonDragStart={this.handleDragStart}\r\n\t\t\tonDrag={dragHandler}\r\n\t\t\tonDragComplete={onDragComplete} />;\r\n\t}\r\n\trender() {\r\n\t\tconst { startXY, endXY, dy } = this.props;\r\n\t\tconst { interactive, hoverText, appearance } = this.props;\r\n\t\tconst {\r\n\t\t\tedgeFill, edgeFill2,\r\n\t\t\tstroke, strokeWidth, strokeOpacity,\r\n\t\t\tfill, fillOpacity,\r\n\t\t} = appearance;\r\n\t\tconst { selected } = this.props;\r\n\t\tconst { onDragComplete } = this.props;\r\n\t\tconst { hover } = this.state;\r\n\t\tconst { enable: hoverTextEnabled, ...restHoverTextProps } = hoverText;\r\n\r\n\t\tconst hoverHandler = interactive\r\n\t\t\t? { onHover: this.handleHover, onUnHover: this.handleHover }\r\n\t\t\t: {};\r\n\r\n\t\tconst line1Edge = isDefined(startXY) && isDefined(endXY)\r\n\t\t\t? <g>\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: startXY,\r\n\t\t\t\t\tdragHandler: this.handleLine1Edge1Drag,\r\n\t\t\t\t\tcursor: \"react-stockcharts-move-cursor\",\r\n\t\t\t\t\tfill: edgeFill,\r\n\t\t\t\t\tedge: \"line1edge1\",\r\n\t\t\t\t})}\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: endXY,\r\n\t\t\t\t\tdragHandler: this.handleLine1Edge2Drag,\r\n\t\t\t\t\tcursor: \"react-stockcharts-move-cursor\",\r\n\t\t\t\t\tfill: edgeFill,\r\n\t\t\t\t\tedge: \"line1edge2\",\r\n\t\t\t\t})}\r\n\t\t\t</g>\r\n\t\t\t: null;\r\n\t\tconst line2Edge = isDefined(dy)\r\n\t\t\t? <g>\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: [startXY[0], startXY[1] + dy],\r\n\t\t\t\t\tdragHandler: this.handleChannelHeightChange,\r\n\t\t\t\t\tcursor: \"react-stockcharts-ns-resize-cursor\",\r\n\t\t\t\t\tfill: edgeFill2,\r\n\t\t\t\t\tedge: \"line2edge1\",\r\n\t\t\t\t})}\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: [endXY[0], endXY[1] + dy],\r\n\t\t\t\t\tdragHandler: this.handleChannelHeightChange,\r\n\t\t\t\t\tcursor: \"react-stockcharts-ns-resize-cursor\",\r\n\t\t\t\t\tfill: edgeFill2,\r\n\t\t\t\t\tedge: \"line2edge2\",\r\n\t\t\t\t})}\r\n\t\t\t</g>\r\n\t\t\t: null;\r\n\r\n\t\treturn <g>\r\n\t\t\t<ChannelWithArea\r\n\t\t\t\tref={this.saveNodeType(\"channel\")}\r\n\t\t\t\tselected={selected || hover}\r\n\r\n\t\t\t\t{...hoverHandler}\r\n\r\n\t\t\t\tstartXY={startXY}\r\n\t\t\t\tendXY={endXY}\r\n\t\t\t\tdy={dy}\r\n\t\t\t\tstroke={stroke}\r\n\t\t\t\tstrokeWidth={(hover || selected) ? strokeWidth + 1 : strokeWidth}\r\n\t\t\t\tstrokeOpacity={strokeOpacity}\r\n\t\t\t\tfill={fill}\r\n\t\t\t\tfillOpacity={fillOpacity}\r\n\t\t\t\tinteractiveCursorClass=\"react-stockcharts-move-cursor\"\r\n\r\n\t\t\t\tonDragStart={this.handleDragStart}\r\n\t\t\t\tonDrag={this.handleChannelDrag}\r\n\t\t\t\tonDragComplete={onDragComplete}\r\n\t\t\t/>\r\n\t\t\t{line1Edge}\r\n\t\t\t{line2Edge}\r\n\t\t\t<HoverTextNearMouse\r\n\t\t\t\tshow={hoverTextEnabled && hover && !selected}\r\n\t\t\t\t{...restHoverTextProps} />\r\n\t\t</g>;\r\n\t}\r\n}\r\n\r\nEachEquidistantChannel.propTypes = {\r\n\tstartXY: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\tendXY: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\tdy: PropTypes.number,\r\n\r\n\tinteractive: PropTypes.bool.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n\thoverText: PropTypes.object.isRequired,\r\n\r\n\tappearance: PropTypes.shape({\r\n\t\tstroke: PropTypes.string.isRequired,\r\n\t\tfillOpacity: PropTypes.number.isRequired,\r\n\t\tstrokeOpacity: PropTypes.number.isRequired,\r\n\t\tstrokeWidth: PropTypes.number.isRequired,\r\n\t\tfill: PropTypes.string.isRequired,\r\n\t\tedgeStroke: PropTypes.string.isRequired,\r\n\t\tedgeFill: PropTypes.string.isRequired,\r\n\t\tedgeFill2: PropTypes.string.isRequired,\r\n\t\tedgeStrokeWidth: PropTypes.number.isRequired,\r\n\t\tr: PropTypes.number.isRequired,\r\n\t}).isRequired,\r\n\r\n\tindex: PropTypes.number,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n};\r\n\r\nEachEquidistantChannel.defaultProps = {\r\n\tyDisplayFormat: d => d.toFixed(2),\r\n\tinteractive: true,\r\n\tselected: false,\r\n\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\thoverText: {\r\n\t\tenable: false,\r\n\t}\r\n};\r\n\r\nexport default EachEquidistantChannel;"],"mappings":"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"}