{"version":3,"file":"EachGannFan.js","names":["EachGannFan","props","handleLine1Edge1Drag","bind","handleLine1Edge2Drag","handleDragStart","handleFanDrag","handleChannelHeightChange","handleHover","getEdgeCircle","isHover","saveNodeType","nodes","state","hover","moreProps","hovering","setState","startXY","endXY","dy","dragStart","index","onDrag","xScale","yScale","chartConfig","xAccessor","fullData","startPos","mouseXY","x1","y1","x2","y2","dx","newX1Value","getXValue","newY1Value","invert","newX2Value","newY2Value","newDy","xy","dragHandler","cursor","fill","edge","selected","appearance","edgeStroke","edgeStrokeWidth","r","onDragComplete","interactive","edgeFill","stroke","strokeWidth","strokeOpacity","fillOpacity","fontFamily","fontSize","fontFill","hoverText","hoverTextEnabled","enable","restHoverTextProps","hoverHandler","onHover","onUnHover","line1Edge","isDefined","Component","propTypes","PropTypes","arrayOf","number","isRequired","bool","shape","string","object","func","defaultProps","yDisplayFormat","d","toFixed","noop","HoverTextNearMouse","bgHeight","bgWidth","text"],"sources":["../../../../src/lib/interactive/wrapper/EachGannFan.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { isDefined, noop } from \"../../utils\";\r\nimport { getXValue } from \"../../utils/ChartDataUtil\";\r\nimport { saveNodeType, isHover } from \"../utils\";\r\n\r\nimport ClickableCircle from \"../components/ClickableCircle\";\r\nimport GannFan from \"../components/GannFan\";\r\nimport HoverTextNearMouse from \"../components/HoverTextNearMouse\";\r\n\r\nclass EachGannFan extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleLine1Edge1Drag = this.handleLine1Edge1Drag.bind(this);\r\n\t\tthis.handleLine1Edge2Drag = this.handleLine1Edge2Drag.bind(this);\r\n\r\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\r\n\t\tthis.handleFanDrag = this.handleFanDrag.bind(this);\r\n\r\n\t\tthis.handleChannelHeightChange = this.handleChannelHeightChange.bind(this);\r\n\r\n\t\tthis.handleHover = this.handleHover.bind(this);\r\n\t\tthis.getEdgeCircle = this.getEdgeCircle.bind(this);\r\n\r\n\t\tthis.isHover = isHover.bind(this);\r\n\t\tthis.saveNodeType = saveNodeType.bind(this);\r\n\t\tthis.nodes = {};\r\n\r\n\t\tthis.state = {\r\n\t\t\thover: false,\r\n\t\t};\r\n\t}\r\n\thandleHover(moreProps) {\r\n\t\tif (this.state.hover !== moreProps.hovering) {\r\n\t\t\tthis.setState({\r\n\t\t\t\thover: moreProps.hovering\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleDragStart() {\r\n\t\tconst {\r\n\t\t\tstartXY, endXY, dy,\r\n\t\t} = this.props;\r\n\r\n\t\tthis.dragStart = {\r\n\t\t\tstartXY, endXY, dy,\r\n\t\t};\r\n\t}\r\n\thandleFanDrag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tstartXY, endXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst { xScale, chartConfig: { yScale }, xAccessor, fullData } = moreProps;\r\n\t\tconst { startPos, mouseXY } = moreProps;\r\n\r\n\t\tconst x1 = xScale(startXY[0]);\r\n\t\tconst y1 = yScale(startXY[1]);\r\n\t\tconst x2 = xScale(endXY[0]);\r\n\t\tconst y2 = yScale(endXY[1]);\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\t\tconst newX2Value = getXValue(xScale, xAccessor, [x2 - dx, y2 - dy], fullData);\r\n\t\tconst newY2Value = yScale.invert(y2 - dy);\r\n\r\n\t\t// const newDy = newY2Value - endXY[1] + this.dragStart.dy;\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: [newX1Value, newY1Value],\r\n\t\t\tendXY: [newX2Value, newY2Value],\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleLine1Edge1Drag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\t\tconst {\r\n\t\t\tstartXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst {\r\n\t\t\tstartPos, mouseXY, xAccessor,\r\n\t\t\txScale, fullData,\r\n\t\t\tchartConfig: { yScale }\r\n\t\t} = moreProps;\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst x1 = xScale(startXY[0]);\r\n\t\tconst y1 = yScale(startXY[1]);\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: [newX1Value, newY1Value],\r\n\t\t\tendXY: this.dragStart.endXY,\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleLine1Edge2Drag(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\t\tconst {\r\n\t\t\tendXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst {\r\n\t\t\tstartPos, mouseXY, xAccessor,\r\n\t\t\txScale, fullData,\r\n\t\t\tchartConfig: { yScale }\r\n\t\t} = moreProps;\r\n\r\n\t\tconst dx = startPos[0] - mouseXY[0];\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst x1 = xScale(endXY[0]);\r\n\t\tconst y1 = yScale(endXY[1]);\r\n\r\n\t\tconst newX1Value = getXValue(xScale, xAccessor, [x1 - dx, y1 - dy], fullData);\r\n\t\tconst newY1Value = yScale.invert(y1 - dy);\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY: this.dragStart.startXY,\r\n\t\t\tendXY: [newX1Value, newY1Value],\r\n\t\t\tdy: this.dragStart.dy,\r\n\t\t});\r\n\t}\r\n\thandleChannelHeightChange(moreProps) {\r\n\t\tconst { index, onDrag } = this.props;\r\n\r\n\t\tconst {\r\n\t\t\tstartXY, endXY,\r\n\t\t} = this.dragStart;\r\n\r\n\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\t\tconst { startPos, mouseXY } = moreProps;\r\n\r\n\t\tconst y2 = yScale(endXY[1]);\r\n\r\n\t\tconst dy = startPos[1] - mouseXY[1];\r\n\r\n\t\tconst newY2Value = yScale.invert(y2 - dy);\r\n\r\n\t\tconst newDy = newY2Value - endXY[1] + this.dragStart.dy;\r\n\r\n\t\tonDrag(index, {\r\n\t\t\tstartXY,\r\n\t\t\tendXY,\r\n\t\t\tdy: newDy,\r\n\t\t});\r\n\t}\r\n\tgetEdgeCircle({ xy, dragHandler, cursor, fill, edge }) {\r\n\t\tconst { hover } = this.state;\r\n\t\tconst { selected, appearance } = this.props;\r\n\t\tconst { edgeStroke, edgeStrokeWidth, r } = appearance;\r\n\t\tconst { onDragComplete } = this.props;\r\n\r\n\t\treturn <ClickableCircle\r\n\t\t\tref={this.saveNodeType(edge)}\r\n\t\t\tshow={selected || hover}\r\n\t\t\tcx={xy[0]}\r\n\t\t\tcy={xy[1]}\r\n\t\t\tr={r}\r\n\t\t\tfill={fill}\r\n\t\t\tstroke={edgeStroke}\r\n\t\t\tstrokeWidth={edgeStrokeWidth}\r\n\t\t\tinteractiveCursorClass={cursor}\r\n\r\n\t\t\tonDragStart={this.handleDragStart}\r\n\t\t\tonDrag={dragHandler}\r\n\t\t\tonDragComplete={onDragComplete} />;\r\n\t}\r\n\trender() {\r\n\t\tconst { startXY, endXY } = this.props;\r\n\t\tconst { interactive, appearance  } = this.props;\r\n\t\tconst {\r\n\t\t\tedgeFill,\r\n\t\t\tstroke, strokeWidth, strokeOpacity,\r\n\t\t\tfill, fillOpacity\r\n\t\t} = appearance;\r\n\t\tconst { fontFamily, fontSize, fontFill } = appearance;\r\n\t\tconst { hoverText, selected } = this.props;\r\n\t\tconst { onDragComplete } = this.props;\r\n\t\tconst { hover } = this.state;\r\n\t\tconst { enable: hoverTextEnabled, ...restHoverTextProps } = hoverText;\r\n\r\n\t\tconst hoverHandler = interactive\r\n\t\t\t? { onHover: this.handleHover, onUnHover: this.handleHover }\r\n\t\t\t: {};\r\n\r\n\t\tconst line1Edge = isDefined(startXY) && isDefined(endXY)\r\n\t\t\t? <g>\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: startXY,\r\n\t\t\t\t\tdragHandler: this.handleLine1Edge1Drag,\r\n\t\t\t\t\tcursor: \"react-stockcharts-move-cursor\",\r\n\t\t\t\t\tfill: edgeFill,\r\n\t\t\t\t\tedge: \"edge1\"\r\n\t\t\t\t})}\r\n\t\t\t\t{this.getEdgeCircle({\r\n\t\t\t\t\txy: endXY,\r\n\t\t\t\t\tdragHandler: this.handleLine1Edge2Drag,\r\n\t\t\t\t\tcursor: \"react-stockcharts-move-cursor\",\r\n\t\t\t\t\tfill: edgeFill,\r\n\t\t\t\t\tedge: \"edge2\"\r\n\t\t\t\t})}\r\n\t\t\t</g>\r\n\t\t\t: null;\r\n\r\n\t\treturn (\r\n\t\t\t<g>\r\n\t\t\t\t<GannFan\r\n\t\t\t\t\tref={this.saveNodeType(\"fan\")}\r\n\t\t\t\t\tselected={hover || selected}\r\n\r\n\t\t\t\t\t{...hoverHandler}\r\n\r\n\t\t\t\t\tstartXY={startXY}\r\n\t\t\t\t\tendXY={endXY}\r\n\t\t\t\t\tstroke={stroke}\r\n\t\t\t\t\tstrokeWidth={(hover || selected) ? strokeWidth + 1 : strokeWidth}\r\n\t\t\t\t\tfill={fill}\r\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\r\n\t\t\t\t\tfillOpacity={fillOpacity}\r\n\t\t\t\t\tfontFamily={fontFamily}\r\n\t\t\t\t\tfontSize={fontSize}\r\n\t\t\t\t\tfontFill={fontFill}\r\n\t\t\t\t\tinteractiveCursorClass=\"react-stockcharts-move-cursor\"\r\n\r\n\t\t\t\t\tonDragStart={this.handleDragStart}\r\n\t\t\t\t\tonDrag={this.handleFanDrag}\r\n\t\t\t\t\tonDragComplete={onDragComplete}\r\n\t\t\t\t/>\r\n\t\t\t\t{line1Edge}\r\n\t\t\t\t<HoverTextNearMouse\r\n\t\t\t\t\tshow={hoverTextEnabled && hover && !selected}\r\n\t\t\t\t\t{...restHoverTextProps} />\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nEachGannFan.propTypes = {\r\n\tstartXY: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\tendXY: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\tdy: PropTypes.number,\r\n\r\n\tinteractive: PropTypes.bool.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n\r\n\tappearance: PropTypes.shape({\r\n\t\tstroke: PropTypes.string.isRequired,\r\n\t\tstrokeOpacity: PropTypes.number.isRequired,\r\n\t\tfillOpacity: PropTypes.number.isRequired,\r\n\t\tstrokeWidth: PropTypes.number.isRequired,\r\n\t\tedgeStroke: PropTypes.string.isRequired,\r\n\t\tedgeFill: PropTypes.string.isRequired,\r\n\t\tedgeStrokeWidth: PropTypes.number.isRequired,\r\n\t\tr: PropTypes.number.isRequired,\r\n\t\tfill: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n\t\tfontFamily: PropTypes.string.isRequired,\r\n\t\tfontSize: PropTypes.number.isRequired,\r\n\t\tfontFill: PropTypes.string.isRequired,\r\n\t}).isRequired,\r\n\thoverText: PropTypes.object.isRequired,\r\n\r\n\tindex: PropTypes.number,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n};\r\n\r\nEachGannFan.defaultProps = {\r\n\tyDisplayFormat: d => d.toFixed(2),\r\n\tinteractive: true,\r\n\tselected: false,\r\n\r\n\tappearance: {\r\n\t\tstroke: \"#000000\",\r\n\t\tfillOpacity: 0.2,\r\n\t\tstrokeOpacity: 1,\r\n\t\tstrokeWidth: 1,\r\n\t\tedgeStroke: \"#000000\",\r\n\t\tedgeFill: \"#FFFFFF\",\r\n\t\tedgeStrokeWidth: 1,\r\n\t\tr: 5,\r\n\t\tfill: [\r\n\t\t\t\"#1f77b4\",\r\n\t\t\t\"#ff7f0e\",\r\n\t\t\t\"#2ca02c\",\r\n\t\t\t\"#d62728\",\r\n\t\t\t\"#9467bd\",\r\n\t\t\t\"#8c564b\",\r\n\t\t\t\"#e377c2\",\r\n\t\t\t\"#7f7f7f\",\r\n\t\t],\r\n\t\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\t\tfontSize: 10,\r\n\t\tfontFill: \"#000000\",\r\n\t},\r\n\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\r\n\thoverText: {\r\n\t\t...HoverTextNearMouse.defaultProps,\r\n\t\tenable: true,\r\n\t\tbgHeight: 18,\r\n\t\tbgWidth: 120,\r\n\t\ttext: \"Click to select object\",\r\n\t}\r\n};\r\n\r\nexport default EachGannFan;"],"mappings":"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"}