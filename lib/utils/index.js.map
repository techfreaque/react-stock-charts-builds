{"version":3,"file":"index.js","names":["getLogger","prefix","logger","noop","process","env","NODE_ENV","require","sign","x","yes","path","loc","key","Array","isArray","length","obj","defaultValue","isDefined","index","functor","v","createVerticalLinearGradient","stops","moreProps","ctx","height","chartConfig","grd","createLinearGradient","forEach","each","addColorStop","stop","color","getClosestItemIndexes2","array","value","accessor","left","bisector","Math","max","right","min","item","degrees","radians","PI","getClosestValue","inputValue","currentValue","values","diff","map","reduce","diff1","diff2","abs","find","list","predicate","context","i","call","undefined","d3Window","node","d3win","ownerDocument","defaultView","document","MOUSEENTER","MOUSELEAVE","MOUSEMOVE","MOUSEUP","TOUCHMOVE","TOUCHEND","getTouchProps","touch","pageX","pageY","clientX","clientY","getClosestItemIndexes","log","lo","hi","mid","round","valueOf","getClosestItem","closest","console","overlayColors","scaleOrdinal","schemeCategory10","head","tail","slice","first","last","d","isNotDefined","isObject","touchPosition","e","container","target","rect","getBoundingClientRect","clientLeft","y","top","clientTop","xy","mousePosition","defaultRect","currentTarget","clearCanvas","canvasList","ratio","setTransform","clearRect","canvas","width","scale","capitalizeFirst","str","charAt","toUpperCase","substring","hexToRGBA","inputHex","opacity","hex","replace","indexOf","multiplier","r","parseInt","g","b","result","toObject","iteratee","identity","returnObj","a","mapValue","object","Object","keys","mappedValue","mapObject","props","replaceAtIndex","concat","forOwn"],"sources":["../../../src/lib/utils/index.js"],"sourcesContent":["\r\n\r\n\r\nimport { scaleOrdinal, schemeCategory10 } from  \"d3-scale\";\r\nimport { bisector } from \"d3-array\";\r\nimport noop from \"./noop\";\r\nimport identity from \"./identity\";\r\n\r\nexport { default as rebind } from \"./rebind\";\r\nexport { default as zipper } from \"./zipper\";\r\nexport { default as merge } from \"./merge\";\r\nexport { default as slidingWindow } from \"./slidingWindow\";\r\nexport { default as identity } from \"./identity\";\r\nexport { default as noop } from \"./noop\";\r\nexport { default as shallowEqual } from \"./shallowEqual\";\r\nexport { default as mappedSlidingWindow } from \"./mappedSlidingWindow\";\r\nexport { default as accumulatingWindow } from \"./accumulatingWindow\";\r\nexport { default as PureComponent } from \"./PureComponent\";\r\n\r\nexport * from \"./barWidth\";\r\nexport * from \"./strokeDasharray\";\r\n\r\nexport function getLogger(prefix) {\r\n\tlet logger = noop;\r\n\tif (process.env.NODE_ENV !== \"production\") {\r\n\t\tlogger = require(\"debug\")(\"react-stockcharts:\" + prefix);\r\n\t}\r\n\treturn logger;\r\n}\r\n\r\nexport function sign(x) {\r\n\treturn (x > 0) - (x < 0);\r\n}\r\n\r\nexport const yes = () => true;\r\n\r\nexport function path(loc = []) {\r\n\tconst key = Array.isArray(loc) ? loc : [loc];\r\n\tconst length = key.length;\r\n\r\n\treturn function(obj, defaultValue) {\r\n\t\tif (length === 0) return isDefined(obj) ? obj : defaultValue;\r\n\r\n\t\tlet index = 0;\r\n\t\twhile (obj != null && index < length) {\r\n\t\t\tobj = obj[key[index++]];\r\n\t\t}\r\n\t\treturn (index === length) ? obj : defaultValue;\r\n\t};\r\n}\r\n\r\nexport function functor(v) {\r\n\treturn typeof v === \"function\" ? v : () => v;\r\n}\r\n\r\nexport function createVerticalLinearGradient(stops) {\r\n\treturn function(moreProps, ctx) {\r\n\t\tconst { chartConfig: { height } } = moreProps;\r\n\r\n\t\tconst grd = ctx.createLinearGradient(0, height, 0, 0);\r\n\t\tstops.forEach(each => {\r\n\t\t\tgrd.addColorStop(each.stop, each.color);\r\n\t\t});\r\n\r\n\t\treturn grd;\r\n\t};\r\n}\r\n\r\nexport function getClosestItemIndexes2(array, value, accessor) {\r\n\tlet left = bisector(accessor).left(array, value);\r\n\tleft = Math.max(left - 1, 0);\r\n\tlet right = Math.min(left + 1, array.length - 1);\r\n\r\n\tconst item = accessor(array[left]);\r\n\tif (item >= value && item <= value) right = left;\r\n\r\n\treturn { left, right };\r\n}\r\n\r\nexport function degrees(radians) {\r\n\treturn radians * 180 / Math.PI;\r\n}\r\n\r\nexport function radians(degrees) {\r\n\treturn degrees * Math.PI / 180;\r\n}\r\n\r\nexport function getClosestValue(inputValue, currentValue) {\r\n\tconst values = isArray(inputValue) ? inputValue : [inputValue];\r\n\r\n\tconst diff = values\r\n\t\t.map(each => each - currentValue)\r\n\t\t.reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\r\n\treturn currentValue + diff;\r\n}\r\n\r\nexport function find(list, predicate, context = this) {\r\n\tfor (let i = 0; i < list.length; ++i) {\r\n\t\tif (predicate.call(context, list[i], i, list)) {\r\n\t\t\treturn list[i];\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n}\r\n\r\nexport function d3Window(node) {\r\n\tconst d3win = node\r\n\t\t&& (node.ownerDocument && node.ownerDocument.defaultView\r\n\t\t\t|| node.document && node\r\n\t\t\t|| node.defaultView);\r\n\treturn d3win;\r\n}\r\n\r\nexport const MOUSEENTER = \"mouseenter.interaction\";\r\nexport const MOUSELEAVE = \"mouseleave.interaction\";\r\nexport const MOUSEMOVE = \"mousemove.pan\";\r\nexport const MOUSEUP = \"mouseup.pan\";\r\nexport const TOUCHMOVE = \"touchmove.pan\";\r\nexport const TOUCHEND = \"touchend.pan touchcancel.pan\";\r\n\r\n\r\nexport function getTouchProps(touch) {\r\n\tif (!touch) return {};\r\n\treturn {\r\n\t\tpageX: touch.pageX,\r\n\t\tpageY: touch.pageY,\r\n\t\tclientX: touch.clientX,\r\n\t\tclientY: touch.clientY\r\n\t};\r\n}\r\n\r\nexport function getClosestItemIndexes(array, value, accessor, log) {\r\n\tlet lo = 0, hi = array.length - 1;\r\n\twhile (hi - lo > 1) {\r\n\t\tconst mid = Math.round((lo + hi) / 2);\r\n\t\tif (accessor(array[mid]) <= value) {\r\n\t\t\tlo = mid;\r\n\t\t} else {\r\n\t\t\thi = mid;\r\n\t\t}\r\n\t}\r\n\t// for Date object === does not work, so using the <= in combination with >=\r\n\t// the same code works for both dates and numbers\r\n\tif (accessor(array[lo]).valueOf() === value.valueOf()) hi = lo;\r\n\tif (accessor(array[hi]).valueOf() === value.valueOf()) lo = hi;\r\n\r\n\tif (accessor(array[lo]) < value && accessor(array[hi]) < value) lo = hi;\r\n\tif (accessor(array[lo]) > value && accessor(array[hi]) > value) hi = lo;\r\n\r\n\tif (log) {\r\n\t\t// console.log(lo, accessor(array[lo]), value, accessor(array[hi]), hi);\r\n\t\t// console.log(accessor(array[lo]), lo, value, accessor(array[lo]) >= value);\r\n\t\t// console.log(value, hi, accessor(array[hi]), accessor(array[lo]) <= value);\r\n\t}\r\n\t// var left = value > accessor(array[lo]) ? lo : lo;\r\n\t// var right = gte(value, accessor(array[hi])) ? Math.min(hi + 1, array.length - 1) : hi;\r\n\r\n\t// console.log(value, accessor(array[left]), accessor(array[right]));\r\n\treturn { left: lo, right: hi };\r\n}\r\n\r\nexport function getClosestItem(array, value, accessor, log) {\r\n\tconst { left, right } = getClosestItemIndexes(array, value, accessor, log);\r\n\r\n\tif (left === right) {\r\n\t\treturn array[left];\r\n\t}\r\n\r\n\tconst closest = (Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value))\r\n\t\t? array[left]\r\n\t\t: array[right];\r\n\tif (log) {\r\n\t\tconsole.log(array[left], array[right], closest, left, right);\r\n\t}\r\n\treturn closest;\r\n}\r\n\r\nexport const overlayColors = scaleOrdinal(schemeCategory10);\r\n\r\nexport function head(array, accessor) {\r\n\tif (accessor && array) {\r\n\t\tlet value;\r\n\t\tfor (let i = 0; i < array.length; i++) {\r\n\t\t\tvalue = array[i];\r\n\t\t\tif (isDefined(accessor(value))) return value;\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\treturn array ? array[0] : undefined;\r\n}\r\n\r\nexport function tail(array, accessor) {\r\n\tif (accessor && array) {\r\n\t\treturn array.map(accessor).slice(1);\r\n\t}\r\n\treturn array ? array.slice(1) : undefined;\r\n}\r\n\r\nexport const first = head;\r\n\r\nexport function last(array, accessor) {\r\n\tif (accessor && array) {\r\n\t\tlet value;\r\n\t\tfor (let i = array.length - 1; i >= 0; i--) {\r\n\t\t\tvalue = array[i];\r\n\t\t\tif (isDefined(accessor(value))) return value;\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\tconst length = array ? array.length : 0;\r\n\treturn length ? array[length - 1] : undefined;\r\n}\r\n\r\nexport function isDefined(d) {\r\n\treturn d !== null && typeof d != \"undefined\";\r\n}\r\n\r\nexport function isNotDefined(d) {\r\n\treturn !isDefined(d);\r\n}\r\n\r\nexport function isObject(d) {\r\n\treturn isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\r\n}\r\n\r\nexport const isArray = Array.isArray;\r\n\r\nexport function touchPosition(touch, e) {\r\n\tconst container = e.target,\r\n\t\trect = container.getBoundingClientRect(),\r\n\t\tx = touch.clientX - rect.left - container.clientLeft,\r\n\t\ty = touch.clientY - rect.top - container.clientTop,\r\n\t\txy = [Math.round(x), Math.round(y)];\r\n\treturn xy;\r\n}\r\n\r\nexport function mousePosition(e, defaultRect) {\r\n\tconst container = e.currentTarget;\r\n\tconst rect = defaultRect || container.getBoundingClientRect(),\r\n\t\tx = e.clientX - rect.left - container.clientLeft,\r\n\t\ty = e.clientY - rect.top - container.clientTop,\r\n\t\txy = [Math.round(x), Math.round(y)];\r\n\treturn xy;\r\n}\r\n\r\n\r\nexport function clearCanvas(canvasList, ratio) {\r\n\tcanvasList.forEach(each => {\r\n\t\teach.setTransform(1, 0, 0, 1, 0, 0);\r\n\t\teach.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\r\n\t\teach.scale(ratio, ratio);\r\n\t});\r\n}\r\n\r\nexport function capitalizeFirst(str) {\r\n\treturn str.charAt(0).toUpperCase() + str.substring(1);\r\n}\r\n\r\nexport function hexToRGBA(inputHex, opacity) {\r\n\tconst hex = inputHex.replace(\"#\", \"\");\r\n\tif (inputHex.indexOf(\"#\") > -1 && (hex.length === 3 || hex.length === 6)) {\r\n\r\n\t\tconst multiplier = (hex.length === 3) ? 1 : 2;\r\n\r\n\t\tconst r = parseInt(hex.substring(0, 1 * multiplier), 16);\r\n\t\tconst g = parseInt(hex.substring(1 * multiplier, 2 * multiplier), 16);\r\n\t\tconst b = parseInt(hex.substring(2 * multiplier, 3 * multiplier), 16);\r\n\r\n\t\tconst result = `rgba(${ r }, ${ g }, ${ b }, ${ opacity })`;\r\n\r\n\t\treturn result;\r\n\t}\r\n\treturn inputHex;\r\n}\r\n\r\nexport function toObject(array, iteratee = identity) {\r\n\treturn array.reduce((returnObj, a) => {\r\n\t\tconst [key, value] = iteratee(a);\r\n\t\treturn {\r\n\t\t\t...returnObj,\r\n\t\t\t[key]: value\r\n\t\t};\r\n\t}, {});\r\n}\r\n\r\n// copied from https://github.com/lodash/lodash/blob/master/mapValue.js\r\nexport function mapValue(object, iteratee) {\r\n\tobject = Object(object);\r\n\t// eslint-disable-next-line prefer-const\r\n\tlet result = {};\r\n\r\n\tObject.keys(object).forEach(key => {\r\n\t\tconst mappedValue = iteratee(object[key], key, object);\r\n\r\n\t\tif (isDefined(mappedValue)) {\r\n\t\t\tresult[key] = mappedValue;\r\n\t\t}\r\n\t});\r\n\treturn result;\r\n}\r\n\r\n// copied from https://github.com/lodash/lodash/blob/master/mapObject.js\r\nexport function mapObject(object = {}, iteratee = identity) {\r\n\tconst props = Object.keys(object);\r\n\r\n\t// eslint-disable-next-line prefer-const\r\n\tlet result = new Array(props.length);\r\n\r\n\tprops.forEach((key, index) => {\r\n\t\tresult[index] = iteratee(object[key], key, object);\r\n\t});\r\n\treturn result;\r\n}\r\n\r\nexport function replaceAtIndex(array, index, value) {\r\n\tif (isDefined(array) && array.length > index) {\r\n\t\treturn array.slice(0, index)\r\n\t\t\t.concat(value)\r\n\t\t\t.concat(array.slice(index + 1));\r\n\t}\r\n\treturn array;\r\n}\r\n\r\n// copied from https://github.com/lodash/lodash/blob/master/forOwn.js\r\nexport function forOwn(obj, iteratee) {\r\n\tconst object = Object(obj);\r\n\tObject.keys(object)\r\n\t\t.forEach(key => iteratee(object[key], key, object));\r\n}"],"mappings":"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"}