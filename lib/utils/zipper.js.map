{"version":3,"file":"zipper.js","names":["zipper","combine","identity","zip","n","arguments","length","m","min","d3_zipLength","i","zips","Array","j","apply","d","x"],"sources":["../../../src/lib/utils/zipper.js"],"sourcesContent":["\r\n\r\n/* an extension to d3.zip so we call a function instead of an array */\r\n\r\nimport { min } from \"d3-array\";\r\n\r\nimport identity from \"./identity\";\r\n\r\nexport default function zipper() {\r\n\tlet combine = identity;\r\n\r\n\tfunction zip() {\r\n\t\tconst n = arguments.length;\r\n\t\tif (!n) return [];\r\n\t\tconst m = min(arguments, d3_zipLength);\r\n\r\n\t\t// eslint-disable-next-line prefer-const\r\n\t\tlet i, zips = new Array(m);\r\n\t\tfor (i = -1; ++i < m; ) {\r\n\t\t\tfor (let j = -1, zip = zips[i] = new Array(n); ++j < n; ) {\r\n\t\t\t\tzip[j] = arguments[j][i];\r\n\t\t\t}\r\n\t\t\tzips[i] = combine.apply(this, zips[i]);\r\n\t\t}\r\n\t\treturn zips;\r\n\t}\r\n\tfunction d3_zipLength(d) {\r\n\t\treturn d.length;\r\n\t}\r\n\tzip.combine = function(x) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn combine;\r\n\t\t}\r\n\t\tcombine = x;\r\n\t\treturn zip;\r\n\t};\r\n\treturn zip;\r\n}\r\n"],"mappings":";;;;;;;AAIA;;AAEA;;;;AAJA;AAMe,SAASA,MAAT,GAAkB;EAChC,IAAIC,OAAO,GAAGC,oBAAd;;EAEA,SAASC,GAAT,GAAe;IACd,IAAMC,CAAC,GAAGC,SAAS,CAACC,MAApB;IACA,IAAI,CAACF,CAAL,EAAQ,OAAO,EAAP;IACR,IAAMG,CAAC,GAAG,IAAAC,YAAA,EAAIH,SAAJ,EAAeI,YAAf,CAAV,CAHc,CAKd;;IACA,IAAIC,CAAJ;IAAA,IAAOC,IAAI,GAAG,IAAIC,KAAJ,CAAUL,CAAV,CAAd;;IACA,KAAKG,CAAC,GAAG,CAAC,CAAV,EAAa,EAAEA,CAAF,GAAMH,CAAnB,GAAwB;MACvB,KAAK,IAAIM,CAAC,GAAG,CAAC,CAAT,EAAYV,IAAG,GAAGQ,IAAI,CAACD,CAAD,CAAJ,GAAU,IAAIE,KAAJ,CAAUR,CAAV,CAAjC,EAA+C,EAAES,CAAF,GAAMT,CAArD,GAA0D;QACzDD,IAAG,CAACU,CAAD,CAAH,GAASR,SAAS,CAACQ,CAAD,CAAT,CAAaH,CAAb,CAAT;MACA;;MACDC,IAAI,CAACD,CAAD,CAAJ,GAAUT,OAAO,CAACa,KAAR,CAAc,IAAd,EAAoBH,IAAI,CAACD,CAAD,CAAxB,CAAV;IACA;;IACD,OAAOC,IAAP;EACA;;EACD,SAASF,YAAT,CAAsBM,CAAtB,EAAyB;IACxB,OAAOA,CAAC,CAACT,MAAT;EACA;;EACDH,GAAG,CAACF,OAAJ,GAAc,UAASe,CAAT,EAAY;IACzB,IAAI,CAACX,SAAS,CAACC,MAAf,EAAuB;MACtB,OAAOL,OAAP;IACA;;IACDA,OAAO,GAAGe,CAAV;IACA,OAAOb,GAAP;EACA,CAND;;EAOA,OAAOA,GAAP;AACA"}