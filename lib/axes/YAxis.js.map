{"version":3,"file":"YAxis.js","names":["YAxis","props","context","axisZoomCallback","bind","newYDomain","chartId","yAxisZoom","helper","zoomEnabled","moreProps","Component","propTypes","axisAt","PropTypes","oneOfType","oneOf","number","isRequired","orient","innerTickSize","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","yZoomWidth","tickValues","array","showTicks","bool","className","string","onContextMenu","onDoubleClick","defaultProps","showTickLabel","showDomain","domainClassName","fill","stroke","strokeWidth","opacity","tickStroke","tickStrokeOpacity","fontFamily","fontSize","fontWeight","getMouseDelta","startXY","mouseXY","contextTypes","chartConfig","object","width","height","axisLocation","y","w","h","x","transform","range","getScale","getYScale","bg","yPan","scale","yScale","flipYScale","invert","trueRange","trueDomain","map","copy","domain"],"sources":["../../../src/lib/axes/YAxis.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Axis from \"./Axis\";\r\n\r\nclass YAxis extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context);\r\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\r\n\t}\r\n\taxisZoomCallback(newYDomain) {\r\n\t\tconst { chartId, yAxisZoom } = this.context;\r\n\t\tyAxisZoom(chartId, newYDomain);\r\n\t}\r\n\trender() {\r\n\t\tconst { zoomEnabled, ...moreProps } = helper(this.props, this.context);\r\n\t\treturn <Axis {...this.props} {...moreProps}\r\n\t\t\tzoomEnabled={this.props.zoomEnabled && zoomEnabled}\r\n\t\t\tedgeClip\r\n\t\t\taxisZoomCallback={this.axisZoomCallback}\r\n\t\t\tzoomCursorClassName=\"react-stockcharts-ns-resize-cursor\" />;\r\n\t}\r\n}\r\n\r\nYAxis.propTypes = {\r\n\taxisAt: PropTypes.oneOfType([\r\n\t\tPropTypes.oneOf([\"left\", \"right\", \"middle\"]),\r\n\t\tPropTypes.number\r\n\t]).isRequired,\r\n\torient: PropTypes.oneOf([\"left\", \"right\"]).isRequired,\r\n\tinnerTickSize: PropTypes.number,\r\n\touterTickSize: PropTypes.number,\r\n\ttickFormat: PropTypes.func,\r\n\ttickPadding: PropTypes.number,\r\n\ttickSize: PropTypes.number,\r\n\tticks: PropTypes.number,\r\n\tyZoomWidth: PropTypes.number,\r\n\ttickValues: PropTypes.array,\r\n\tshowTicks: PropTypes.bool,\r\n\tclassName: PropTypes.string,\r\n\tzoomEnabled: PropTypes.bool,\r\n\tonContextMenu: PropTypes.func,\r\n\tonDoubleClick: PropTypes.func,\r\n};\r\n\r\nYAxis.defaultProps = {\r\n\tshowTicks: true,\r\n\tshowTickLabel: true,\r\n\tshowDomain: true,\r\n\tclassName: \"react-stockcharts-y-axis\",\r\n\tticks: 10,\r\n\touterTickSize: 0,\r\n\tdomainClassName: \"react-stockcharts-axis-domain\",\r\n\tfill: \"none\",\r\n\tstroke: \"#FFFFFF\",\r\n\tstrokeWidth: 1,\r\n\topacity: 1,\r\n\tinnerTickSize: 5,\r\n\ttickPadding: 6,\r\n\ttickStroke: \"#000000\",\r\n\ttickStrokeOpacity: 1,\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\tfontSize: 12,\r\n\tfontWeight: 400,\r\n\tyZoomWidth: 40,\r\n\tzoomEnabled: true,\r\n\tgetMouseDelta: (startXY, mouseXY) => startXY[1] - mouseXY[1],\r\n};\r\n\r\nYAxis.contextTypes = {\r\n\tyAxisZoom: PropTypes.func.isRequired,\r\n\tchartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n\tchartConfig: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction helper(props, context) {\r\n\tconst { axisAt, yZoomWidth, orient } = props;\r\n\tconst { chartConfig: { width, height } } = context;\r\n\r\n\tlet axisLocation;\r\n\tconst y = 0, w = yZoomWidth, h = height;\r\n\r\n\tif (axisAt === \"left\") {\r\n\t\taxisLocation = 0;\r\n\t} else if (axisAt === \"right\") {\r\n\t\taxisLocation = width;\r\n\t} else if (axisAt === \"middle\") {\r\n\t\taxisLocation = (width) / 2;\r\n\t} else {\r\n\t\taxisLocation = axisAt;\r\n\t}\r\n\r\n\tconst x = (orient === \"left\") ? -yZoomWidth : 0;\r\n\r\n\treturn {\r\n\t\ttransform: [axisLocation, 0],\r\n\t\trange: [0, height],\r\n\t\tgetScale: getYScale,\r\n\t\tbg: { x, y, h, w },\r\n\t\tzoomEnabled: context.chartConfig.yPan,\r\n\t};\r\n}\r\n\r\nfunction getYScale(moreProps) {\r\n\tconst { yScale: scale, flipYScale, height } = moreProps.chartConfig;\r\n\tif (scale.invert) {\r\n\t\tconst trueRange = flipYScale ? [0, height] : [height, 0];\r\n\t\tconst trueDomain = trueRange.map(scale.invert);\r\n\t\treturn scale.copy()\r\n\t\t\t.domain(trueDomain)\r\n\t\t\t.range(trueRange);\r\n\t}\r\n\treturn scale;\r\n}\r\n\r\nexport default YAxis;\r\n"],"mappings":"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"}