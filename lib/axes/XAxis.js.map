{"version":3,"file":"XAxis.js","names":["XAxis","props","context","axisZoomCallback","bind","newXDomain","xAxisZoom","showTicks","moreProps","helper","zoomEnabled","Component","propTypes","axisAt","PropTypes","oneOfType","oneOf","number","isRequired","orient","innerTickSize","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","tickValues","array","bool","className","string","onContextMenu","onDoubleClick","defaultProps","showTickLabel","showDomain","fill","stroke","strokeWidth","opacity","domainClassName","tickStroke","tickStrokeOpacity","fontFamily","fontSize","fontWeight","xZoomHeight","getMouseDelta","startXY","mouseXY","contextTypes","chartConfig","object","width","height","axisLocation","x","w","h","y","transform","range","getScale","getXScale","bg","scale","xScale","invert","trueRange","trueDomain","map","copy","domain"],"sources":["../../../src/lib/axes/XAxis.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Axis from \"./Axis\";\r\n\r\nclass XAxis extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context);\r\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\r\n\t}\r\n\taxisZoomCallback(newXDomain) {\r\n\t\tconst { xAxisZoom } = this.context;\r\n\t\txAxisZoom(newXDomain);\r\n\t}\r\n\trender() {\r\n\t\tconst { showTicks } = this.props;\r\n\t\tconst moreProps = helper(this.props, this.context);\r\n\r\n\t\treturn <Axis {...this.props} {...moreProps} x\r\n\t\t\tzoomEnabled={this.props.zoomEnabled && showTicks}\r\n\t\t\taxisZoomCallback={this.axisZoomCallback}\r\n\t\t\tzoomCursorClassName=\"react-stockcharts-ew-resize-cursor\" />;\r\n\t}\r\n}\r\n\r\nXAxis.propTypes = {\r\n\taxisAt: PropTypes.oneOfType([\r\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\r\n\t\tPropTypes.number\r\n\t]).isRequired,\r\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\r\n\tinnerTickSize: PropTypes.number,\r\n\touterTickSize: PropTypes.number,\r\n\ttickFormat: PropTypes.func,\r\n\ttickPadding: PropTypes.number,\r\n\ttickSize: PropTypes.number,\r\n\tticks: PropTypes.number,\r\n\ttickValues: PropTypes.array,\r\n\tshowTicks: PropTypes.bool,\r\n\tclassName: PropTypes.string,\r\n\tzoomEnabled: PropTypes.bool,\r\n\tonContextMenu: PropTypes.func,\r\n\tonDoubleClick: PropTypes.func,\r\n};\r\n\r\nXAxis.defaultProps = {\r\n\tshowTicks: true,\r\n\tshowTickLabel: true,\r\n\tshowDomain: true,\r\n\tclassName: \"react-stockcharts-x-axis\",\r\n\tticks: 10,\r\n\touterTickSize: 0,\r\n\tfill: \"none\",\r\n\tstroke: \"#000000\", // x axis stroke color\r\n\tstrokeWidth: 1,\r\n\topacity: 1, // x axis opacity\r\n\tdomainClassName: \"react-stockcharts-axis-domain\",\r\n\tinnerTickSize: 5,\r\n\ttickPadding: 6,\r\n\ttickStroke: \"#000000\", // tick/grid stroke\r\n\ttickStrokeOpacity: 1,\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\r\n\tfontSize: 12,\r\n\tfontWeight: 400,\r\n\txZoomHeight: 25,\r\n\tzoomEnabled: true,\r\n\tgetMouseDelta: (startXY, mouseXY) => startXY[0] - mouseXY[0],\r\n};\r\n\r\nXAxis.contextTypes = {\r\n\tchartConfig: PropTypes.object.isRequired,\r\n\txAxisZoom: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction helper(props, context) {\r\n\tconst { axisAt, xZoomHeight, orient } = props;\r\n\tconst { chartConfig: { width, height } } = context;\r\n\r\n\tlet axisLocation;\r\n\tconst x = 0, w = width, h = xZoomHeight;\r\n\r\n\tif (axisAt === \"top\") axisLocation = 0;\r\n\telse if (axisAt === \"bottom\") axisLocation = height;\r\n\telse if (axisAt === \"middle\") axisLocation = (height) / 2;\r\n\telse axisLocation = axisAt;\r\n\r\n\tconst y = (orient === \"top\") ? -xZoomHeight : 0;\r\n\r\n\treturn {\r\n\t\ttransform: [0, axisLocation],\r\n\t\trange: [0, width],\r\n\t\tgetScale: getXScale,\r\n\t\tbg: { x, y, h, w },\r\n\t};\r\n}\r\n\r\nfunction getXScale(moreProps) {\r\n\tconst { xScale: scale, width } = moreProps;\r\n\r\n\tif (scale.invert) {\r\n\t\tconst trueRange = [0, width];\r\n\t\tconst trueDomain = trueRange.map(scale.invert);\r\n\t\treturn scale.copy()\r\n\t\t\t.domain(trueDomain)\r\n\t\t\t.range(trueRange);\r\n\t}\r\n\r\n\treturn scale;\r\n}\r\n\r\n\r\nexport default XAxis;\r\n"],"mappings":"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"}