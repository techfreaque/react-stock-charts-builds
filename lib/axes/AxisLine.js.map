{"version":3,"file":"AxisLine.js","names":["AxisLine","props","orient","outerTickSize","fill","stroke","strokeWidth","className","shapeRendering","opacity","range","sign","d","Component","propTypes","PropTypes","string","isRequired","scale","func","number","array","defaultProps","drawOnCanvasStatic","ctx","xAxis","lineWidth","strokeStyle","hexToRGBA","beginPath","moveTo","first","lineTo","last"],"sources":["../../../src/lib/axes/AxisLine.js"],"sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { first, last, hexToRGBA } from \"../utils\";\r\n\r\n/*\r\nfunction d3_scaleExtent(domain) {\r\n\tvar start = domain[0], stop = domain[domain.length - 1];\r\n\treturn start < stop ? [start, stop] : [stop, start];\r\n}\r\n\r\nfunction d3_scaleRange(scale) {\r\n\treturn scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\r\n}\r\n*/\r\nclass AxisLine extends Component {\r\n\trender() {\r\n\t\tconst { orient, outerTickSize, fill, stroke, strokeWidth, className, shapeRendering, opacity, range } = this.props;\r\n\t\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\r\n\r\n\t\t// var range = d3_scaleRange(scale);\r\n\r\n\t\tlet d;\r\n\r\n\t\tif (orient === \"bottom\" || orient === \"top\") {\r\n\t\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\r\n\t\t} else {\r\n\t\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<path\r\n\t\t\t\tclassName={className}\r\n\t\t\t\tshapeRendering={shapeRendering}\r\n\t\t\t\td={d}\r\n\t\t\t\tfill={fill}\r\n\t\t\t\topacity={opacity}\r\n\t\t\t\tstroke={stroke}\r\n\t\t\t\tstrokeWidth={strokeWidth} >\r\n\t\t\t</path>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nAxisLine.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tshapeRendering: PropTypes.string,\r\n\torient: PropTypes.string.isRequired,\r\n\tscale: PropTypes.func.isRequired,\r\n\touterTickSize: PropTypes.number,\r\n\tfill: PropTypes.string,\r\n\tstroke: PropTypes.string,\r\n\tstrokeWidth: PropTypes.number,\r\n\topacity: PropTypes.number,\r\n\trange: PropTypes.array,\r\n};\r\n\r\nAxisLine.defaultProps = {\r\n\tclassName: \"react-stockcharts-axis-line\",\r\n\tshapeRendering: \"crispEdges\",\r\n\touterTickSize: 0,\r\n\tfill: \"none\",\r\n\tstroke: \"#000000\",\r\n\tstrokeWidth: 1,\r\n\topacity: 1,\r\n};\r\n\r\nAxisLine.drawOnCanvasStatic = (props, ctx/* , xScale, yScale*/) => {\r\n\tprops = { ...AxisLine.defaultProps, ...props };\r\n\r\n\tconst { orient, outerTickSize, stroke, strokeWidth, opacity, range } = props;\r\n\r\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\r\n\tconst xAxis = (orient === \"bottom\" || orient === \"top\");\r\n\r\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\r\n\r\n\tctx.lineWidth = strokeWidth;\r\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\r\n\r\n\tctx.beginPath();\r\n\r\n\tif (xAxis) {\r\n\t\tctx.moveTo(first(range), sign * outerTickSize);\r\n\t\tctx.lineTo(first(range), 0);\r\n\t\tctx.lineTo(last(range), 0);\r\n\t\tctx.lineTo(last(range), sign * outerTickSize);\r\n\t} else {\r\n\t\tctx.moveTo(sign * outerTickSize, first(range));\r\n\t\tctx.lineTo(0, first(range));\r\n\t\tctx.lineTo(0, last(range));\r\n\t\tctx.lineTo(sign * outerTickSize, last(range));\r\n\t}\r\n\tctx.stroke();\r\n\r\n\t// ctx.strokeStyle = strokeStyle;\r\n};\r\n\r\nexport default AxisLine;\r\n"],"mappings":";;;;;;;;;AAEA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACMA,Q;;;;;;;;;;;;;WACL,kBAAS;MACR,kBAAwG,KAAKC,KAA7G;MAAA,IAAQC,MAAR,eAAQA,MAAR;MAAA,IAAgBC,aAAhB,eAAgBA,aAAhB;MAAA,IAA+BC,IAA/B,eAA+BA,IAA/B;MAAA,IAAqCC,MAArC,eAAqCA,MAArC;MAAA,IAA6CC,WAA7C,eAA6CA,WAA7C;MAAA,IAA0DC,SAA1D,eAA0DA,SAA1D;MAAA,IAAqEC,cAArE,eAAqEA,cAArE;MAAA,IAAqFC,OAArF,eAAqFA,OAArF;MAAA,IAA8FC,KAA9F,eAA8FA,KAA9F;MACA,IAAMC,IAAI,GAAGT,MAAM,KAAK,KAAX,IAAoBA,MAAM,KAAK,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAA1D,CAFQ,CAIR;;MAEA,IAAIU,CAAJ;;MAEA,IAAIV,MAAM,KAAK,QAAX,IAAuBA,MAAM,KAAK,KAAtC,EAA6C;QAC5CU,CAAC,GAAG,MAAMF,KAAK,CAAC,CAAD,CAAX,GAAiB,GAAjB,GAAuBC,IAAI,GAAGR,aAA9B,GAA8C,KAA9C,GAAsDO,KAAK,CAAC,CAAD,CAA3D,GAAiE,GAAjE,GAAuEC,IAAI,GAAGR,aAAlF;MACA,CAFD,MAEO;QACNS,CAAC,GAAG,MAAMD,IAAI,GAAGR,aAAb,GAA6B,GAA7B,GAAmCO,KAAK,CAAC,CAAD,CAAxC,GAA8C,KAA9C,GAAsDA,KAAK,CAAC,CAAD,CAA3D,GAAiE,GAAjE,GAAuEC,IAAI,GAAGR,aAAlF;MACA;;MAED,oBACC;QACC,SAAS,EAAEI,SADZ;QAEC,cAAc,EAAEC,cAFjB;QAGC,CAAC,EAAEI,CAHJ;QAIC,IAAI,EAAER,IAJP;QAKC,OAAO,EAAEK,OALV;QAMC,MAAM,EAAEJ,MANT;QAOC,WAAW,EAAEC;MAPd,EADD;IAWA;;;;EA1BqBO,gB;;AA6BvBb,QAAQ,CAACc,SAAT,GAAqB;EACpBP,SAAS,EAAEQ,qBAAA,CAAUC,MADD;EAEpBR,cAAc,EAAEO,qBAAA,CAAUC,MAFN;EAGpBd,MAAM,EAAEa,qBAAA,CAAUC,MAAV,CAAiBC,UAHL;EAIpBC,KAAK,EAAEH,qBAAA,CAAUI,IAAV,CAAeF,UAJF;EAKpBd,aAAa,EAAEY,qBAAA,CAAUK,MALL;EAMpBhB,IAAI,EAAEW,qBAAA,CAAUC,MANI;EAOpBX,MAAM,EAAEU,qBAAA,CAAUC,MAPE;EAQpBV,WAAW,EAAES,qBAAA,CAAUK,MARH;EASpBX,OAAO,EAAEM,qBAAA,CAAUK,MATC;EAUpBV,KAAK,EAAEK,qBAAA,CAAUM;AAVG,CAArB;AAaArB,QAAQ,CAACsB,YAAT,GAAwB;EACvBf,SAAS,EAAE,6BADY;EAEvBC,cAAc,EAAE,YAFO;EAGvBL,aAAa,EAAE,CAHQ;EAIvBC,IAAI,EAAE,MAJiB;EAKvBC,MAAM,EAAE,SALe;EAMvBC,WAAW,EAAE,CANU;EAOvBG,OAAO,EAAE;AAPc,CAAxB;;AAUAT,QAAQ,CAACuB,kBAAT,GAA8B,UAACtB,KAAD,EAAQuB;AAAG;AAAX,EAAqC;EAClEvB,KAAK,mCAAQD,QAAQ,CAACsB,YAAjB,GAAkCrB,KAAlC,CAAL;EAEA,aAAuEA,KAAvE;EAAA,IAAQC,MAAR,UAAQA,MAAR;EAAA,IAAgBC,aAAhB,UAAgBA,aAAhB;EAAA,IAA+BE,MAA/B,UAA+BA,MAA/B;EAAA,IAAuCC,WAAvC,UAAuCA,WAAvC;EAAA,IAAoDG,OAApD,UAAoDA,OAApD;EAAA,IAA6DC,KAA7D,UAA6DA,KAA7D;EAEA,IAAMC,IAAI,GAAGT,MAAM,KAAK,KAAX,IAAoBA,MAAM,KAAK,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAA1D;EACA,IAAMuB,KAAK,GAAIvB,MAAM,KAAK,QAAX,IAAuBA,MAAM,KAAK,KAAjD,CANkE,CAQlE;;EAEAsB,GAAG,CAACE,SAAJ,GAAgBpB,WAAhB;EACAkB,GAAG,CAACG,WAAJ,GAAkB,IAAAC,gBAAA,EAAUvB,MAAV,EAAkBI,OAAlB,CAAlB;EAEAe,GAAG,CAACK,SAAJ;;EAEA,IAAIJ,KAAJ,EAAW;IACVD,GAAG,CAACM,MAAJ,CAAW,IAAAC,YAAA,EAAMrB,KAAN,CAAX,EAAyBC,IAAI,GAAGR,aAAhC;IACAqB,GAAG,CAACQ,MAAJ,CAAW,IAAAD,YAAA,EAAMrB,KAAN,CAAX,EAAyB,CAAzB;IACAc,GAAG,CAACQ,MAAJ,CAAW,IAAAC,WAAA,EAAKvB,KAAL,CAAX,EAAwB,CAAxB;IACAc,GAAG,CAACQ,MAAJ,CAAW,IAAAC,WAAA,EAAKvB,KAAL,CAAX,EAAwBC,IAAI,GAAGR,aAA/B;EACA,CALD,MAKO;IACNqB,GAAG,CAACM,MAAJ,CAAWnB,IAAI,GAAGR,aAAlB,EAAiC,IAAA4B,YAAA,EAAMrB,KAAN,CAAjC;IACAc,GAAG,CAACQ,MAAJ,CAAW,CAAX,EAAc,IAAAD,YAAA,EAAMrB,KAAN,CAAd;IACAc,GAAG,CAACQ,MAAJ,CAAW,CAAX,EAAc,IAAAC,WAAA,EAAKvB,KAAL,CAAd;IACAc,GAAG,CAACQ,MAAJ,CAAWrB,IAAI,GAAGR,aAAlB,EAAiC,IAAA8B,WAAA,EAAKvB,KAAL,CAAjC;EACA;;EACDc,GAAG,CAACnB,MAAJ,GA1BkE,CA4BlE;AACA,CA7BD;;eA+BeL,Q"}